/**
 * Kendo UI v2024.1.130 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.core.js";import"./kendo.floatinglabel.js";import"./kendo.icons.js";let $=kendo.jQuery;function addInputPrefixSuffixContainers({widget:e,wrapper:t,options:n,prefixInsertBefore:a,suffixInsertAfter:i}){var s,o,r=n.prefixOptions,l=n.suffixOptions,u=r.template||r.icon,p=l.template||l.icon,d=(i=i||a,n.layoutFlow),f=d?"vertical"==d?"horizontal":"vertical":"horizontal",m=`<span class="k-input-separator k-input-separator-${"vertical"==d?"horizontal":"vertical"}"></span>`;r&&u&&((s=t.children(".k-input-prefix"))[0]||(s=$(`<span class="k-input-prefix k-input-prefix-${f}" />`),a?s.insertBefore(a):s.prependTo(t)),r.icon&&s.html(kendo.html.renderIcon({icon:r.icon})),r.template&&s.html(kendo.template(r.template)({})),r.separator&&$(m).insertAfter(s)),l&&p&&((o=t.children(".k-input-suffix"))[0]||(o=$(`<span class="k-input-suffix k-input-suffix-${f}" />`).appendTo(t),i?o.insertAfter(i):o.appendTo(t)),l.icon&&o.html(kendo.html.renderIcon({icon:l.icon})),l.template&&o.html(kendo.template(l.template)({})),l.separator&&$(m).insertBefore(o)),e._prefixContainer=s,e._suffixContainer=o}var __meta__={id:"maskedtextbox",name:"MaskedTextBox",category:"web",description:"The MaskedTextBox widget allows to specify a mask type on an input field.",depends:["core","floatinglabel","icons"]};!function(e,t){var n=window,a=n.Math.min,i=n.kendo,s=i.caret,o=i.keys,r=i.ui,l=r.Widget,u=".kendoMaskedTextBox",p=e.isPlainObject,d=window.setTimeout,f="k-disabled",m="k-invalid",h="k-focus",_="disabled",c="readonly",v="change",g="mouseup",k="drop",b="keydown",x="paste";function w(e){return e+u}var C=w(i.support.propertyChangeEvent?"propertychange":"input");var y=l.extend({init:function(t,n){var a,o=this;l.fn.init.call(o,t,n),o._rules=e.extend({},o.rules,o.options.rules),t=o.element,a=t[0],o._wrapper(),o._tokenize(),o._form(),o.element.addClass("k-input-inner").attr("autocomplete","off").on("focus"+u,(function(){var e=a.value;e?o._togglePrompt(!0):a.value=o._old=o._emptyMask,o._oldValue=e,o.wrapper.addClass(h),o._timeoutId=d((function(){s(t,0,e?o._maskLength:0)}))})).on("focusout"+u,(function(){var e=t.val();clearTimeout(o._timeoutId),a.value=o._old="",e!==o._emptyMask&&(a.value=o._old=e),o.wrapper.removeClass(h),o._change(),o._togglePrompt()})),o.options.mask&&o.options.mask.length>0&&o.element.attr("aria-placeholder",o.options.mask),t.is("[disabled]")||e(o.element).parents("fieldset").is(":disabled")?o.enable(!1):o.readonly(t.is("[readonly]")),o._validationIcon=e(i.ui.icon({icon:"exclamation-circle",iconClass:"k-input-validation-icon k-hidden"})).insertAfter(t),o.value(o.options.value||t.val()),o._label(),o._applyCssClasses(),addInputPrefixSuffixContainers({widget:o,wrapper:o.wrapper,options:o.options,suffixInsertAfter:o._validationIcon}),o.floatingLabel&&o.floatingLabel.refresh(),i.notify(o)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:"",label:null,size:"medium",fillMode:"solid",rounded:"medium",prefixOptions:{separator:!0},suffixOptions:{separator:!0}},events:[v],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(t){var n=this;l.fn.setOptions.call(n,t),n._rules=e.extend({},n.rules,n.options.rules),n._tokenize(),this._unbindInput(),this._bindInput(),n.value(n.element.val())},destroy:function(){var e=this;e.floatingLabel&&e.floatingLabel.destroy(),e.element.off(u),e._formElement&&(e._formElement.off("reset",e._resetHandler),e._formElement.off("submit",e._submitHandler)),l.fn.destroy.call(e)},raw:function(){return this._unmask(this.element.val(),0).replace(new RegExp(I(this.options.promptChar),"g"),"")},value:function(e){var n=this.element,a=this._emptyMask;return e===t?this.element.val():(null===e&&(e=""),a?(e=this._unmask(e+""),n.val(e?a:""),this._mask(0,this._maskLength,e),this._unmaskedValue=null,e=n.val(),this._oldValue=e,i._activeElement()!==n&&(e===a?n.val(""):this._togglePrompt()),void(this.floatingLabel&&this.floatingLabel.refresh())):(this._oldValue=e,void n.val(e)))},_togglePrompt:function(e){var t=this.element[0],n=t.value;this.options.clearPromptChar&&(n=e?this._oldValue:n.replace(new RegExp(I(this.options.promptChar),"g")," "),t.value=this._old=n)},readonly:function(e){this._editable({readonly:e===t||e,disable:!1}),this.floatingLabel&&this.floatingLabel.readonly(e===t||e)},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t||e)}),this.floatingLabel&&this.floatingLabel.enable(e=e===t||e)},_bindInput:function(){var e=this;if(e._maskLength&&(e.element.on(w(b),e._keydown.bind(e)).on(w(k),e._drop.bind(e)).on(w(v),e._trackChange.bind(e)).on(C,e._inputHandler.bind(e)),i.support.browser.msie)){var t=i.support.browser.version;if(t>8&&t<11){var n=[w(g),w(k),w(b),w(x)].join(" ");e.element.on(n,e._legacyIEInputHandler.bind(e))}}},_unbindInput:function(){var e=[C,w(b),w(g),w(k),w(x)].join(" ");this.element.off(e)},_editable:function(e){var t=this,n=t.element,a=t.wrapper,i=e.disable,s=e.readonly;t._unbindInput(),s||i?(n.attr(_,i).attr(c,s),a.toggleClass(f,i)):(n.prop(_,!1).prop(c,!1),a.removeClass(f),t._bindInput())},_change:function(){var e=this,t=e.value();t!==e._oldValue?(e._oldValue=t,e.trigger(v),e.element.trigger(v)):""===t&&e.__changing&&e.element.trigger(v)},inputChange:function(e){var t=this,n=t._old,o=t.element[0],r=o.value,l=s(o)[1],u=r.length-n.length,p=i.support.mobileOS;if(!(t.__dropping&&u<0)){-1===u&&p.android&&"chrome"===p.browser&&(e=!0);var d=a(l,function(e,t){for(var n=0;n<t.length&&e[n]===t[n];)n++;return n}(r,n)),f=r.substring(d,l);o.value=r.substring(0,d)+t._emptyMask.substring(d);var m=t._mask(d,l,f),h=t._trimStartPromptChars(r.substring(l),a(u,m-d)),_=t._unmask(h,n.length-h.length);t._mask(m,m,_),e&&(m=t._findCaretPosBackwards(d)),s(o,m),t.__dropping=!1}},_trimStartPromptChars:function(e,t){for(var n=this.options.promptChar;t-- >0&&0===e.indexOf(n);)e=e.substring(1);return e},_findCaretPosBackwards:function(e){var t=this._find(e,!0);return t<e&&(t+=1),t},_inputHandler:function(){i._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(e){var t=this,n=t.element[0],a=n.value,i=e.type;t.__pasting="paste"===i,d((function(){"mouseup"===i&&t.__pasting||n.value&&n.value!==a&&t.inputChange(t.__backward)}))},_trackChange:function(){var e=this;e.__changing=!0,d((function(){e.__changing=!1}))},_form:function(){var t=this,n=t.element,a=n.attr("form"),i=a?e("#"+a):n.closest("form");i[0]&&(t._resetHandler=function(){d((function(){t.value(n[0].value)}))},t._submitHandler=function(){t.element[0].value=t._old=t.raw()},t.options.unmaskOnPost&&i.on("submit",t._submitHandler),t._formElement=i.on("reset",t._resetHandler))},_keydown:function(e){var t=e.keyCode;this.__backward=t===o.BACKSPACE,t===o.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(e,t){var n=this.element.val()||this._emptyMask,a=1;for(!0===t&&(a=-1);e>-1||e<=this._maskLength;){if(n.charAt(e)!==this.tokens[e])return e;e+=a}return-1},_mask:function(e,n,a,o){var r,l,u,p,d=this.element[0],f=d.value||this._emptyMask,m=this.options.promptChar,h=0;for((e=this._find(e,o))>n&&(n=e),l=this._unmask(f.substring(n),n),r=(a=this._unmask(a,e)).length,a&&(l=l.replace(new RegExp("^_{0,"+r+"}"),"")),a+=l,f=f.split(""),u=a.charAt(h);e<this._maskLength;)f[e]=u||m,u=a.charAt(++h),p===t&&h>r&&(p=e),e=this._find(e+1);return d.value=this._old=f.join(""),i._activeElement()===d&&(p===t&&(p=this._maskLength),s(d,p)),p},_unmask:function(e,t){if(!e)return"";if(this._unmaskedValue===e)return this._unmaskedValue;var n,a;e=(e+"").split("");for(var s=0,o=t||0,r=this.options.promptChar,l=e.length,u=this.tokens.length,p="";o<u&&((n=e[s])===(a=this.tokens[o])||n===r?(p+=n===r?r:"",s+=1,o+=1):"string"!=typeof a?(a&&a.test&&a.test(n)||i.isFunction(a)&&a(n)?(p+=n,o+=1):1===l&&this._blinkInvalidState(),s+=1):o+=1,!(s>=l)););return this._unmaskedValue=p,p},_label:function(){var t,n,a=this,s=a.element,o=a.options,r=s.attr("id");null!==o.label&&(t=!!p(o.label)&&o.label.floating,n=p(o.label)?o.label.content:o.label,t&&(a._floatingLabelContainer=a.wrapper.wrap("<span></span>").parent(),a.floatingLabel=new i.ui.FloatingLabel(a._floatingLabelContainer,{widget:a})),i.isFunction(n)&&(n=n.call(a)),n||(n=""),r||(r=o.name+"_"+i.guid(),s.attr("id",r)),a._inputLabel=e("<label class='k-label k-input-label' for='"+r+"'>"+n+"</label>'").insertBefore(a.wrapper))},_wrapper:function(){var e=this.element,t=e[0],n=e.wrap("<span class='k-input k-maskedtextbox'></span>").parent();n[0].style.cssText=t.style.cssText,t.style.width="100%",this.wrapper=n.addClass(t.className).removeClass("input-validation-error")},_blinkInvalidState:function(){var e=this;e._addInvalidState(),clearTimeout(e._invalidStateTimeout),e._invalidStateTimeout=d(e._removeInvalidState.bind(e),100)},_addInvalidState:function(){this.wrapper.addClass(m),this._validationIcon.removeClass("k-hidden")},_removeInvalidState:function(){var e=this;e.wrapper.removeClass(m),e._validationIcon.addClass("k-hidden"),e._invalidStateTimeout=null},_tokenize:function(){for(var e,t,n=[],a=0,s=(this.options.mask||"").split(""),o=s.length,r=0,l="",u=this.options.promptChar,p=i.getCulture(this.options.culture).numberFormat,d=this._rules;r<o;r++)if(t=d[e=s[r]])n[a]=t,l+=u,a+=1;else{"."===e||","===e?e=p[e]:"$"===e?e=p.currency.symbol:"\\"===e&&(e=s[r+=1]);for(var f=0,m=(e=e.split("")).length;f<m;f++)n[a]=e[f],l+=e[f],a+=1}this.tokens=n,this._emptyMask=l,this._maskLength=l.length}});function I(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}i.cssProperties.registerPrefix("MaskedTextBox","k-input-"),i.cssProperties.registerValues("MaskedTextBox",[{prop:"rounded",values:i.cssProperties.roundedValues.concat([["full","full"]])}]),r.plugin(y)}(window.kendo.jQuery);var kendo$1=kendo;export{kendo$1 as default};
//# sourceMappingURL=kendo.maskedtextbox.js.map
