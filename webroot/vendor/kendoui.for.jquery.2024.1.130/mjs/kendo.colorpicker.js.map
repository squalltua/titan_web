{"version":3,"file":"kendo.colorpicker.js","names":["$","undefined$1","kendo","window","ui","Widget","parseColor","TabKeyTrap","Popup","extend","NS","KEYDOWN_NS","ColorSelector","init","element","options","that","this","fn","call","is","_initialValue","_preventDefaultLabelClick","_value","value","_tabIndex","attr","_standalone","_triggerSelect","_triggerChange","name","ARIATemplate","data","events","color","_updateInput","_updateUI","opacity","toCssRgba","toCss","enable","arguments","length","wrapper","toggleClass","_onEnable","_attachFocusEvents","on","_navKeydown","bind","_navFocusout","val","_innerTabindex","find","_isInputTypeColor","el","test","tagName","type","setTimeout","contains","document","activeElement","_releaseInnerFocus","e","keyCode","keys","ENTER","preventDefault","_trapInnerFocus","ESC","trigger","_tabKeyTrap","removeTrap","_select","nohooks","prev","equals","_navigation","indexOf","replace","_otOfPicker","_ariaTemplate","template","tabindex","removeAttr","trap","triggerEvent","destroy","off","label","closest","id","add","ev","noop","valueForLabel","formattedValue","a","_selectOnHide","_cancel","self","colorpicker","jQuery","Color","getContrastFromTwoRGBAs","b","luminance1","getLuminance","getRGBFromRGBA","luminance2","r","g","Math","max","min","rgb","map","v","pow","foregroundColor","backgroundColor","r1","fitIntoBounds","g1","b1","a1","r2","g2","b2","round","contender","isNaN","svgPath","points","command","d","reduce","acc","point","i","format","line","pointA","pointB","lengthX","lengthY","sqrt","angle","atan2","contrastToolUtils","renderSvgCurveLine","gradientRectMetrics","hsva","controlPointCalc","lineCalc","findValue","contrast","saturation","low","high","comparer","mid","currentHsva","s","width","height","currentContrast","hue","h","alpha","fromHSV","getColorFromHSV","toBytes","reversedComparer","getPaths","stepCount","reversed","push","bezierCommandCalc","current","previous","next","reverse","smooth","l","PI","cos","sin","cps","cpe","paths","__meta__$1","category","description","depends","Observable","encode","htmlEncode","KEYS","WHITE","BLACK","ColorInput","_viewModel","observable","switchMode","keydown","isHEXMode","get","isRGBMode","formats","hex","_changeHandler","change","_render","_template","ns","optionsSize","size","optionsTabIndex","vStackElement","messages","toggleFormat","hexInputElement","rgbaInputElement","red","green","blue","unbind","field","_color","_tryParseColor","set","sender","_preventChangeEvent","textbox","target","_change","reset","model","currentFormat","index","append","guid","parent","error","ColorGradient","deepExtend","previewInput","_wrapper","_sliders","_hsvArea","_gradientInputs","hsvDragARIATemplate","input","contrastTool","contrastRatio","fail","pass","focus","_hsvHandle","setBackgroundColor","isPlainObject","_updateColorContrast","_getHSV","rect","_hsvRect","handlePosition","position","_hueSlider","left","top","_opacitySlider","toHSV","_colorgradientInputs","_colorInput","callback","obj","hsvRect","hsvHandle","_hsvKeydown","apply","update","x","y","resultX","resultY","offset","dx","dy","rw","rh","_svChange","_hsvDragAriaTemplate","_hsvEvents","UserEvents","global","press","getOffset","location","start","addClass","move","end","removeClass","prop","c","shiftKey","LEFT","ctrlKey","RIGHT","UP","DOWN","F2","select","_reset","_resetHsv","_resetColorContrast","contrastOptions","_contrastTool","_updateHsv","hueSlider","opacitySlider","hueChange","opacityChange","kendoSlider","tickPlacement","showButtons","orientation","slide","contrastRatioTemplate","ratio","toString","icon","labelTemplate","limit","level","output","remove","_updateContrastSvg","newSvg","svgClassName","metrics","applyStylesFromKendoAttributes","css","_hueElements","_updateHsvAria","dontChangeInput","wrap","role","_selectedColor","_colorAsText","plugin","DOT","BACKGROUNDCOLOR","ITEMSELECTEDCLASS","ITEMSFOCUSEDCLASS","TILE_CLASS","FOCUS_NS","CLICK_NS","BLUR_NS","ColorPalette","_selectedID","ariaId","_attachEvents","columns","tileSize","palette","currentTarget","_keydown","_focus","_colors","colors","split","Array","isArray","_current","item","first","newCurrent","items","filter","prototype","parentNode","children","previousSibling","nextSibling","nodeType","cellElements","selected","_tileSize","parseFloat","Error","each","templateElement","html","NO_COLOR","SELECTED","PREVIEW_MASK","ARIA_PRESSED","ARIA_DISABLED","VIEWS","gradient","FlatColorPicker","autoupdate","_changeView","view","_setViewSize","_previousColor","toDisplay","_view","_viewsContainer","empty","buttons","preview","clearButton","views","cancel","noColor","clearColor","_clearColor","viewButton","_updatePreviousColor","mode","selectedColor","hsvColor","selector","_cachedHue","appendTo","dontChangeView","previewWidth","parseInt","previewHeight","previewColumns","style","setProperty","buttonOptions","fillMode","themeColor","rounded","renderButton","__meta__","ColorPicker","_buttonHtml","content","_inputWrapper","_applyCssClasses","hide","after","accesskey","isDefaultPrevented","toggle","_popup","_selector","arrow","close","toolIcon","iconClass","closeOnSelect","open","_getPopup","selOptions","_closing","handler","visible","_noColorIcon","dontChangeSelector","key","popup","selectorType","selectorWrapper","body","kendoPopup","anchor","adjustSize","event","MouseEvent","parents","activate","cssProperties","registerPrefix","registerValues","values","roundedValues","concat","kendo$1"],"sources":["kendo.colorpicker.js"],"mappings":"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","sourcesContent":["import './kendo.core.js';\nimport './kendo.color.js';\nimport './kendo.popup.js';\nimport './kendo.slider.js';\nimport './kendo.userevents.js';\nimport './kendo.button.js';\nimport './kendo.binder.js';\nimport './kendo.textbox.js';\nimport './kendo.numerictextbox.js';\nimport './kendo.html.button.js';\nimport './kendo.icons.js';\n\n(function($, undefined$1) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        parseColor = kendo.parseColor,\n        TabKeyTrap = kendo.ui.Popup.TabKeyTrap,\n\n        extend = $.extend,\n\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        DISABLED = \"k-disabled\";\n\n    var ColorSelector = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, options);\n            element = that.element;\n            options = that.options;\n\n            if (element.is(\"input\")) {\n                that._initialValue();\n                that._preventDefaultLabelClick();\n            } else {\n                that._value = parseColor(options.value);\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            if (options._standalone) {\n                that._triggerSelect = that._triggerChange;\n            }\n        },\n        options: {\n            name: \"ColorSelector\",\n            ARIATemplate: (data) => `Current selected color is ${data || \"none\"}`,\n            value: null,\n            _standalone: true\n        },\n        events: [\n            \"change\",\n            \"select\",\n            \"forceSelect\",\n            \"cancel\"\n        ],\n        color: function(value) {\n            if (value !== undefined$1) {\n                this._value = parseColor(value);\n\n                if (this.element.is(\"input\")) {\n                    this._updateInput(this._value);\n                }\n\n                this._updateUI(this._value);\n            }\n\n            return this._value;\n        },\n        value: function(color) {\n            color = this.color(color);\n\n            if (color) {\n                if (this.options.opacity) {\n                    color = color.toCssRgba();\n                } else {\n                    color = color.toCss();\n                }\n            }\n\n            return color || null;\n        },\n        enable: function(enable) {\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            if (this.element.is(\"input\")) {\n                this.element.attr(\"disabled\", !enable);\n            }\n\n            this.wrapper.toggleClass(DISABLED, !enable);\n\n            this._onEnable(enable);\n        },\n        _attachFocusEvents: function () {\n            this.wrapper.on(KEYDOWN_NS, this._navKeydown.bind(this))\n                .on(\"focusout\" + NS, this._navFocusout.bind(this));\n        },\n        _initialValue: function() {\n            var element = this.element,\n                options = this.options,\n                value = options.value || element.attr(\"value\");\n\n            if (value) {\n                this._value = parseColor(value, true);\n            }\n\n            this.element.val(value);\n        },\n        _innerTabindex: function(value) {\n            var wrapper = this.wrapper;\n\n            wrapper.find(\".k-draghandle, .k-button, .k-input-inner\").attr(\"tabindex\", value);\n        },\n        _isInputTypeColor: function() {\n            var el = this.element[0];\n            return (/^input$/i).test(el.tagName) && (/^color$/i).test(el.type);\n        },\n        _navFocusout: function() {\n            var that = this,\n                wrapper = that.wrapper[0];\n\n            setTimeout(function() {\n                if (!wrapper.contains(document.activeElement)) {\n                    that._releaseInnerFocus();\n                }\n            });\n        },\n        _navKeydown: function(e) {\n            var wrapper = this.wrapper;\n\n            if (e.keyCode === kendo.keys.ENTER && wrapper.attr(\"tabindex\")) {\n                e.preventDefault();\n\n                this._trapInnerFocus();\n            } else if (e.keyCode === kendo.keys.ESC && wrapper.attr(\"tabindex\") === undefined$1) {\n                this._releaseInnerFocus();\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        _releaseInnerFocus: function() {\n            this._tabKeyTrap.removeTrap();\n            this.wrapper.attr(\"tabindex\", this._tabIndex);\n            this._innerTabindex(-1);\n        },\n        _select: function(color, nohooks) {\n            var prev = this._value;\n\n            color = this.color(color);\n\n            if (!nohooks) {\n                if ((color && (!prev || !color.equals(prev))) || (color === null && color !== prev)) {\n                    if (color === null && this.element.val) {\n                        this.element.val(color);\n                    }\n\n                    this.element.trigger(\"change\");\n                    this.trigger(\"change\", { value: this.value() });\n                } else if (!this._standalone) {\n                    this.trigger(\"cancel\");\n                }\n            }\n        },\n        _navigation: function() {\n            var value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            };\n\n            if (this.options._otOfPicker) {\n                this._innerTabindex(-1);\n                this._attachFocusEvents();\n                this._tabKeyTrap = new TabKeyTrap(this.wrapper);\n\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                this.wrapper.attr({\n                    \"aria-label\": this._ariaTemplate(value || \"\"),\n                    tabindex: this._tabIndex\n                });\n            } else {\n                this.wrapper.removeAttr(\"tabindex\");\n                this.wrapper.removeAttr(\"aria-label\");\n                this.wrapper.removeAttr(\"role\");\n                this.wrapper.removeAttr(\"aria-keyshortcuts\");\n            }\n        },\n        _trapInnerFocus: function() {\n            this._innerTabindex(0);\n            this.wrapper.removeAttr(\"tabindex\");\n            this.wrapper.find(\".k-hsv-draghandle\").trigger(\"focus\");\n            this._tabKeyTrap.trap();\n        },\n        _triggerSelect: function(color) {\n            triggerEvent(this, \"select\", color);\n        },\n        _triggerChange: function(color) {\n            triggerEvent(this, \"change\", color);\n        },\n        destroy: function() {\n            if (this.element) {\n                this.element.off(NS);\n            }\n\n            if (this.wrapper) {\n                this.wrapper.off(KEYDOWN_NS);\n                this.wrapper.off(NS).find(\"*\").off(NS);\n                this.wrapper = null;\n            }\n\n            Widget.fn.destroy.call(this);\n        },\n        _preventDefaultLabelClick: function() {\n            // if there exists a <label> associated with this\n            // input field, we must catch clicks on it to prevent\n            // the built-in color picker from showing up.\n            // https://github.com/telerik/kendo-ui-core/issues/292\n            var element = this.element,\n                label = element.closest(\"label\"),\n                id = element.attr(\"id\");\n\n            if (id) {\n                label = label.add('label[for=\"' + id + '\"]');\n            }\n            label.on(\"click\", function(ev) {\n                ev.preventDefault();\n            });\n        },\n        _updateUI: $.noop,\n        _updateInput: function(value) {\n            var formattedValue = \"\",\n                valueForLabel;\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (this.options._otOfPicker) {\n                if (!this._ariaTemplate) {\n                    this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n                }\n\n                valueForLabel = this.value();\n\n                if (valueForLabel && valueForLabel.indexOf(\"rgba\") > -1) {\n                    valueForLabel = valueForLabel.replace(\"rgba\", \"RGBA\");\n                };\n\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(valueForLabel || \"\"));\n            }\n        },\n        _selectOnHide: function() {\n            return null;\n        },\n        _cancel: function() {\n            this.trigger(\"cancel\");\n        }\n    });\n\n    function triggerEvent(self, type, color) {\n        color = parseColor(color);\n\n        if ((color && !color.equals(self.color())) || color !== self.color()) {\n            if (type == \"change\") {\n                // UI is already updated.  setting _value directly\n                // rather than calling self.color(color) to avoid an\n                // endless loop.\n                self._value = color;\n                self._updateInput(self._value);\n            }\n            if (color && color.a != 1) {\n                color = color.toCssRgba();\n            } else if (color) {\n                color = color.toCss();\n            }\n\n            self.trigger(type, { value: color });\n        }\n    }\n\n    extend(ui, {\n        colorpicker: {\n            ColorSelector: ColorSelector\n        }\n    });\n\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1){\n    var colorpicker = kendo.ui.colorpicker,\n        extend = $.extend,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n\n        AA_CONTRAST = 4.5,\n        AAA_CONTRAST = 7,\n        STEP_COUNT = 16;\n\n    // Color utils - calc contrast\n\n    function getContrast(luminance1, luminance2) {\n        var brightest = Math.max(luminance1, luminance2);\n        var darkest = Math.min(luminance1, luminance2);\n        return (brightest + 0.05) / (darkest + 0.05);\n    }\n\n    function getContrastFromTwoRGBAs(a, b) {\n        return getContrast(\n            getLuminance(getRGBFromRGBA(a, b)),\n            getLuminance(getRGBFromRGBA(b, { r: 0, g: 0, b: 0, a: 1 })));\n    }\n\n    function getLuminance (rgb) {\n        var a = [rgb.r, rgb.g, rgb.b].map(function (v) {\n            v /= 255;\n            return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\n        });\n        return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n    }\n\n    function getRGBFromRGBA(foregroundColor, backgroundColor) {\n        var r1 = fitIntoBounds(foregroundColor.r, 0, 255);\n        var g1 = fitIntoBounds(foregroundColor.g, 0, 255);\n        var b1 = fitIntoBounds(foregroundColor.b, 0, 255);\n        var a1 = fitIntoBounds(foregroundColor.a, 0, 1);\n\n        var r2 = fitIntoBounds(backgroundColor.r, 0, 255);\n        var g2 = fitIntoBounds(backgroundColor.g, 0, 255);\n        var b2 = fitIntoBounds(backgroundColor.b, 0, 255);\n\n        return {\n            r: Math.round(((1 - a1) * r2) + (a1 * r1)),\n            g: Math.round(((1 - a1) * g2) + (a1 * g1)),\n            b: Math.round(((1 - a1) * b2) + (a1 * b1))\n        };\n    }\n\n    function fitIntoBounds(contender, min, max) {\n        if (!isPresent(contender) || isNaN(contender)) {\n            return min;\n        }\n\n        return contender <= min ? min : contender >= max ? max : contender;\n    }\n\n    function isPresent(value) { return value !== null && value !== undefined$1; }\n\n\n    // Color utils - Contrast tool SVG path\n\n    function renderSvgCurveLine(gradientRectMetrics, hsva, backgroundColor) {\n        var findValue = function (contrast, saturation, low, high, comparer) {\n            var mid = (low + high) / 2;\n            var currentHsva = extend({}, hsva, { s: saturation / gradientRectMetrics.width, v: 1 - mid / gradientRectMetrics.height });\n            var currentContrast = getContrastFromTwoRGBAs(parseColor(getColorFromHSV(currentHsva)).toBytes(), parseColor(backgroundColor).toBytes());\n\n            if (low + 0.5 > high) {\n                if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n                    return mid;\n                } else {\n                    return null;\n                }\n            }\n\n            if (comparer(currentContrast, contrast)) {\n                return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n            }\n            return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n        };\n\n        var comparer = function (a, b) {\n            return a > b;\n        };\n\n        var reversedComparer = function (a, b) {\n            return a < b;\n        };\n\n        var getPaths = function (contrast, stepCount, reversed) {\n            var points = [];\n            for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width/stepCount) {\n               var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? reversedComparer : comparer);\n                if (value !== null){\n                    points.push([i, value]);\n                }\n            }\n            return points;\n        };\n\n        var bezierCommandCalc = bezierCommand(controlPoint(line));\n        var paths = svgPath(getPaths(AA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, false), bezierCommandCalc) +\n                svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n\n        return `<svg xmlns=\"http://www.w3.org/2000/svg\" ${kendo.attr(\"style-position\")}=\"absolute\" ${kendo.attr(\"style-overflow\")}=\"visible\" ${kendo.attr(\"style-pointer-events\")}=\"none\" ` +\n                `${kendo.attr(\"style-left\")}=\"0px\" ${kendo.attr(\"style-top\")}=\"0px\" ${kendo.attr(\"style-z-index\")}=\"3\" >` +\n                    paths  + '</svg>';\n    }\n\n    function svgPath(points, command) {\n        if (points.length === 0){\n            return '';\n        }\n\n        var reducer = function (acc, point, i, a) {\n            return i === 0 ?\n                // if first point\n                kendo.format(\"M {0},{1}\", point[0], point[1]) :\n                // else\n                kendo.format(\"{0} {1}\", acc, command(point, i, a));\n        };\n\n        // build the d attributes by looping over the points\n        var d = points.reduce(reducer, \"\");\n\n        return kendo.format('<path d=\"{0}\" fill=\"none\" stroke=\"white\" stroke-width=\"1\"/>', d);\n    }\n\n    function bezierCommand(controlPointCalc) {\n        return function(point, i, a) {\n            // start control point\n            var cps = controlPointCalc(a[i - 1], a[i - 2], point); // [cpsX, cpsY]\n\n            // end control point\n            var cpe = controlPointCalc(point, a[i - 1], a[i + 1], true); //  [cpeX, cpeY]\n\n            return kendo.format(\"C {0},{1} {2},{3} {4},{5}\", cps[0], cps[1], cpe[0], cpe[1], point[0], point[1]);\n        };\n    }\n\n    function controlPoint(lineCalc) {\n        return function (current, previous, next, reverse) {\n            // when 'current' is the first or last point of the array\n            // 'previous' and 'next' are undefined\n            // replace with 'current'\n                var p = previous || current;\n                var n = next || current;\n                var smooth = 0.1;\n\n                // properties of the line between previous and next\n                var l = lineCalc(p, n);\n\n                // If is end-control-point, add PI to the angle to go backward\n                var angle = l.angle + (reverse ? Math.PI : 0);\n                var length = l.length * smooth;\n\n                // The control point position is relative to the current point\n                var x = current[0] + Math.cos(angle) * length;\n                var y = current[1] + Math.sin(angle) * length;\n\n                return [x, y];\n        };\n    }\n\n    function line (pointA, pointB) {\n        var lengthX = pointB[0] - pointA[0];\n        var lengthY = pointB[1] - pointA[1];\n\n        return {\n            length: Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),\n            angle: Math.atan2(lengthY, lengthX)\n        };\n    }\n\n    function getColorFromHSV (hsva) {\n        var hue = fitIntoBounds(hsva.h, 0, 359.9);\n        var saturation = fitIntoBounds(hsva.s, 0, 1);\n        var value = fitIntoBounds(hsva.v, 0, 1);\n        var alpha = fitIntoBounds(hsva.a, 0, 1);\n\n        return Color.fromHSV(hue, saturation, value, alpha).toCssRgba();\n    }\n\n    extend(colorpicker, {\n        contrastToolUtils: {\n            getContrastFromTwoRGBAs: getContrastFromTwoRGBAs,\n            renderSvgCurveLine: renderSvgCurveLine\n        }\n    });\n\n})(window.kendo.jQuery);\n\nvar __meta__$1 = {\n        id: \"colorgradient\",\n        name: \"ColorGradient\",\n        category: \"web\", // suite\n        description: \"ColorGradient allows selection of a color from an HSV canvas.\",\n        depends: [\"core\", \"popup\", \"textbox\", \"icons\"] // dependencies\n    };\n(function($, undefined$1) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Observable = kendo.Observable,\n        parseColor = kendo.parseColor,\n        extend = $.extend,\n        encode = kendo.htmlEncode,\n        Color = kendo.Color,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        WHITE = \"#ffffff\",\n        BLACK = \"#000000\",\n        NS = \".kendoColorTools\",\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n\n        contrastToolUtils = ui.colorpicker.contrastToolUtils;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var ColorInput = Observable.extend({\n        init: function(element, options) {\n            var that = this;\n\n            that.element = element;\n            that.options = options;\n\n            that._viewModel = kendo.observable({\n                switchMode: that.switchMode.bind(that),\n                keydown: that.keydown.bind(that),\n                isHEXMode: function () { return this.get(\"format\") === 'hex' },\n                isRGBMode: function () { return this.get(\"format\") === 'rgb' },\n                format: options.format,\n                formats: options.formats,\n                rgb: null,\n                hex: function () {\n                    return this.get(\"rgb\") !== null && this.get(\"rgb\").toCss({alpha: options.opacity});\n                }\n            });\n\n            that._changeHandler = that.change.bind(that);\n\n            that._viewModel.bind(\"change\", that._changeHandler);\n\n            that._render();\n\n            that.element.on(KEYDOWN_NS, that.keydown.bind(that));\n\n            Observable.fn.init.call(that);\n        },\n        _template: kendo.template(({ options, ns }) => {\n            let optionsSize = encode(options.size);\n            let optionsTabIndex = encode(options.tabindex);\n\n            let vStackElement = \"\";\n            if (options.formats && options.formats.length > 1) {\n                let optionsMessagesToggleFormat = encode(options.messages.toggleFormat);\n\n                vStackElement =\n                '<div class=\"k-vstack\">' +\n                    `<button class=\"k-colorgradient-toggle-mode\" data-${ns}role=\"button\" data-${ns}icon=\"caret-alt-expand\" data data-${ns}bind=\"click: switchMode\" data-${ns}fill-mode=\"flat\" data-${ns}size=\"${optionsSize}\" title=\"${optionsMessagesToggleFormat}\">` +\n                    '</button>' +\n                '</div>';\n            }\n\n            // HEX input\n            let hexInputElement = \"\";\n            if (options.formats && options.formats.indexOf(\"hex\") >= 0) {\n                let optionsMessagesHex = encode(options.messages.hex);\n\n                hexInputElement =\n                `<div class=\"k-vstack\" data-${ns}bind=\"visible: isHEXMode\">` +\n                    `<input type=\"text\" data-${ns}bind=\"value: hex\" data-${ns}role=\"textbox\" data-${ns}size=\"${optionsSize}\" tabindex=\"${optionsTabIndex}\"  aria-label=\"${optionsMessagesHex}\"/>` +\n                    '<label class=\"k-colorgradient-input-label\">HEX</label>' +\n                '</div>';\n            }\n\n            // RGBA input\n            let rgbaInputElement = \"\";\n            if (options.formats && options.formats.indexOf(\"rgb\") >= 0) {\n                let optionsMessagesRed = encode(options.messages.red);\n                let optionsMessagesGreen = encode(options.messages.green);\n                let optionsMessagesBlue = encode(options.messages.blue);\n\n                rgbaInputElement =\n                `<div class=\"k-vstack\" data-${ns}bind=\"visible: isRGBMode\">` +\n                    `<input tabindex=\"${optionsTabIndex}\" data-${ns}bind=\"value: rgb.r\" data-${ns}role=\"numerictextbox\" data-${ns}size=\"${optionsSize}\" data-${ns}max=\"255\" data-${ns}min=\"0\" data-${ns}decimals=\"0\" data-${ns}spinners=\"false\" data-${ns}format=\"n0\" aria-label=\"${optionsMessagesRed}\" />` +\n                    '<label class=\"k-colorgradient-input-label\">R</label>' +\n                '</div>' +\n                `<div class=\"k-vstack\" data-${ns}bind=\"visible: isRGBMode\">` +\n                    `<input tabindex=\"${optionsTabIndex}\" data-${ns}bind=\"value: rgb.g\" data-${ns}role=\"numerictextbox\" data-${ns}size=\"${optionsSize}\" data-${ns}max=\"255\" data-${ns}min=\"0\" data-${ns}decimals=\"0\" data-${ns}spinners=\"false\" data-${ns}format=\"n0\" aria-label=\"${optionsMessagesGreen}\" />` +\n                    '<label class=\"k-colorgradient-input-label\">G</label>' +\n                '</div>' +\n                `<div class=\"k-vstack\" data-${ns}bind=\"visible: isRGBMode\">` +\n                    `<input tabindex=\"${optionsTabIndex}\" data-${ns}bind=\"value: rgb.b\" data-${ns}role=\"numerictextbox\" data-${ns}size=\"${optionsSize}\" data-${ns}max=\"255\" data-${ns}min=\"0\" data-${ns}decimals=\"0\" data-${ns}spinners=\"false\" data-${ns}format=\"n0\" aria-label=\"${optionsMessagesBlue}\"/>` +\n                    '<label class=\"k-colorgradient-input-label\">B</label>' +\n                '</div>';\n\n                if(options.opacity) {\n                    let optionsMessagesAlpha = options.messages.alpha;\n                    rgbaInputElement +=\n                    `<div class=\"k-vstack\" data-${ns}bind=\"visible: isRGBMode\">` +\n                        `<input tabindex=\"${optionsTabIndex}\" data-${ns}bind=\"value: rgb.a\" data-${ns}role=\"numerictextbox\" data-${ns}size=\"${optionsSize}\" data-${ns}step=\"0.1\" data-${ns}max=\"1\" data-${ns}min=\"0\" data-${ns}decimals=\"1\" data-${ns}spinners=\"false\" data-${ns}format=\"n1\" aria-label=\"${optionsMessagesAlpha}\" />` +\n                        '<label class=\"k-colorgradient-input-label\">A</label>' +\n                    '</div>';\n                }\n            }\n\n            return vStackElement + hexInputElement + rgbaInputElement;\n        }),\n        destroy: function(){\n            var that = this;\n\n            that._viewModel.unbind(\"change\", that._changeHandler);\n            kendo.unbind(that.element);\n            kendo.destroy(that.element);\n            that.element.off(KEYDOWN_NS);\n            delete that._viewModel;\n            delete that._changeHandler;\n        },\n        change: function (ev) {\n            var that = this;\n\n            if (ev.field.indexOf(\"rgb\") >= 0) {\n                that._color = that._tryParseColor(that._viewModel.rgb.toCssRgba());\n                that._viewModel.set(\"hex\", that._color.toCss({ alpha: that.options.opacity }));\n            } else if (ev.field === \"hex\") {\n                that._color = that._tryParseColor(ev.sender[ev.field]);\n                that._viewModel.set(\"rgb\", that._color);\n            }\n\n            if (!that._preventChangeEvent) {\n                that.trigger(\"change\", {value: that._color});\n            }\n        },\n        keydown: function (ev) {\n            var that = this,\n                textbox = $(ev.target).data(\"kendoTextBox\");\n\n            if (ev.keyCode === KEYS.ENTER && $(ev.target).is(\"input\")) {\n                if(textbox && textbox._change) {\n                    textbox._change();\n                }\n\n                that.trigger(\"change\", {value: that._color});\n                that.trigger(\"select\", {value: that._color});\n            }\n        },\n        reset: function () {\n            var that = this;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", parseColor(BLACK));\n            delete that._preventChangeEvent;\n        },\n        switchMode: function() {\n            var that = this,\n                model = that._viewModel,\n                currentFormat = model.format,\n                index = model.formats.indexOf(currentFormat) + 1;\n\n            index = index >= model.formats.length ? 0 : index;\n\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"format\", model.formats[index]);\n            delete that._preventChangeEvent;\n        },\n        value: function (color) {\n            var that = this;\n\n            that._color = (color && color.toBytes()) || parseColor(BLACK);\n            that._preventChangeEvent = true;\n            that._viewModel.set(\"rgb\", that._color);\n            delete that._preventChangeEvent;\n        },\n        _render: function() {\n            var that = this;\n\n            that.element\n                .append(that._template({ ns: kendo.ns, guid: kendo.guid(), options: that.options }))\n                .parent();\n\n            kendo.bind(that.element, that._viewModel);\n            that.element.attr(\"data-\" + kendo.ns + \"stop\", \"stop\");\n        },\n        _tryParseColor: function (color) {\n            var that = this;\n\n            try {\n                color = parseColor(color) || that._color;\n            } catch (error) {\n                color = that._color;\n            }\n\n            return color;\n        }\n    });\n\n    var ColorGradient = ColorSelector.extend({\n        init: function (element, options) {\n            var that = this,\n                value;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            options = that.options = kendo.deepExtend({}, that.options, options);\n\n            if(options.messages.previewInput) {\n                options.messages.hex = options.messages.previewInput;\n            }\n\n            options.messages = options.messages ? $.extend(that.options.messages, options.messages) : that.options.messages;\n            element = that.element;\n\n            that._wrapper();\n            that._sliders();\n            that._hsvArea();\n\n            value = that._value;\n\n            that._gradientInputs();\n            that._updateUI(value);\n            that._navigation();\n        },\n        options: {\n            name : \"ColorGradient\",\n            opacity : false,\n            hsvDragARIATemplate: (data) => `Color well with two-dimensional slider for selecting saturation and value. Selected color is ${data || \"none\"}`,\n            input : true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            contrastTool: false,\n            size: \"medium\",\n            messages: {\n                contrastRatio: \"Contrast ratio:\",\n                fail: \"Fail\",\n                pass: \"Pass\",\n                hex: \"HEX\",\n                toggleFormat: \"Toggle format\",\n                red: \"Red channel\",\n                green: \"Green channel\",\n                blue: \"Blue channel\",\n                alpha: \"Alpha channel\"\n            },\n            _otOfPicker: true\n        },\n        _template: kendo.template((options) =>\n                '<div class=\"k-colorgradient-canvas k-hstack\">' +\n                    '<div class=\"k-hsv-rectangle\"><div class=\"k-hsv-gradient\"><div role=\"slider\" aria-orientation=\"undefined\" class=\"k-hsv-draghandle k-draghandle\"></div></div></div>' +\n                    '<div class=\"k-hsv-controls k-hstack\">' +\n                        '<input class=\"k-hue-slider k-colorgradient-slider\" />' +\n                        (options.opacity ? '<input class=\"k-alpha-slider k-colorgradient-slider\" />' : '') +\n                    '</div>' +\n                '</div>' +\n                (options.input ? '<div class=\"k-colorgradient-inputs k-hstack\"></div>' : '') +\n                (options.contrastTool ? '<div class=\"k-colorgradient-color-contrast k-vbox\"></div>' : '')\n        ),\n        focus: function() {\n            this._hsvHandle.focus();\n        },\n        setBackgroundColor: function(color) {\n            var that = this;\n\n            if (that.options.contrastTool) {\n                that.options.contrastTool = $.isPlainObject(that.options.contrastTool) ? extend({}, that.options.contrastTool, {\n                    backgroundColor: color\n                }) : {\n                    backgroundColor: color\n                };\n\n                that._updateColorContrast(that.color() || parseColor(WHITE));\n            }\n        },\n        _getHSV: function(h, s, v, a) {\n            var that = this,\n                rect = that._hsvRect,\n                width = rect.width(),\n                height = rect.height(),\n                handlePosition = this._hsvHandle.position();\n\n            if(!width || !height) {\n                return that.color() ? that.color().toHSV() : parseColor(BLACK);\n            }\n\n            if (h == null) {\n                h = that._hueSlider.value();\n            }\n            if (s == null) {\n                s = handlePosition.left / width;\n            }\n            if (v == null) {\n                v = 1 - handlePosition.top / height;\n            }\n            if (a == null) {\n                a = that._opacitySlider ? that._opacitySlider.value() / 100 : 1;\n            }\n            return Color.fromHSV(h, s, v, a);\n        },\n        _gradientInputs: function() {\n            var that = this,\n                options = that.options;\n\n            if(that._colorgradientInputs.length) {\n                that._colorInput = new ColorInput(that._colorgradientInputs, extend({}, options, {\n                    tabindex: 0\n                }));\n\n                that._colorInput.bind(\"change\", function(ev){\n                    that._updateUI(ev.value, true);\n                });\n\n                that._colorInput.bind(\"select\", function(ev){\n                    var color = parseColor(ev.value);\n                    that._select(color);\n                    that.trigger(\"forceSelect\", { value: that.value() });\n                });\n            }\n        },\n        _hsvArea: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                hsvRect = wrapper.find(\".k-hsv-rectangle\"),\n                hsvHandle = hsvRect.find(\".k-draghandle\").attr(\"tabIndex\", 0).on(KEYDOWN_NS, bind(that._hsvKeydown, that)),\n                value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            };\n\n            if (!this._hsvDragAriaTemplate) {\n                this._hsvDragAriaTemplate = kendo.template(this.options.hsvDragARIATemplate);\n            }\n\n            hsvHandle.attr(\"aria-label\", this._hsvDragAriaTemplate(value || ''));\n\n            function update(x, y) {\n                var offset = this.offset,\n                    dx = x - offset.left, dy = y - offset.top,\n                    rw = this.width, rh = this.height,\n                    resultX, resultY;\n\n                dx = dx < 0 ? 0 : dx > rw ? rw : dx;\n                dy = dy < 0 ? 0 : dy > rh ? rh : dy;\n                resultX = dx / rw;\n                resultY = 1 - dy / rh;\n\n                that._svChange(resultX, resultY);\n            }\n\n            that._hsvEvents = new kendo.UserEvents(hsvRect, {\n                global: true,\n                press: function(e) {\n                    this.offset = kendo.getOffset(hsvRect);\n                    this.width = hsvRect.width();\n                    this.height = hsvRect.height();\n                    hsvHandle.focus();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                start: function() {\n                    hsvRect.addClass(\"k-dragging\");\n                    hsvHandle.focus();\n                },\n                move: function(e) {\n                    e.preventDefault();\n                    update.call(this, e.x.location, e.y.location);\n                },\n                end: function() {\n                    hsvRect.removeClass(\"k-dragging\");\n                }\n            });\n\n            that._hsvRect = hsvRect;\n            that._hsvHandle = hsvHandle;\n        },\n        _hsvKeydown: function(ev) {\n            var that = this;\n            function move(prop, d) {\n                var c = that._getHSV();\n                c[prop] += d * (ev.shiftKey ? 0.01 : 0.05);\n                if (c[prop] < 0) { c[prop] = 0; }\n                if (c[prop] > 1) { c[prop] = 1; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            function hue(d) {\n                var c = that._getHSV();\n                c.h += d * (ev.shiftKey ? 1 : 5);\n                if (c.h < 0) { c.h = 0; }\n                if (c.h > 359) { c.h = 359; }\n                that._updateUI(c);\n                preventDefault(ev);\n            }\n            switch (ev.keyCode) {\n            case KEYS.LEFT:\n                if (ev.ctrlKey) {\n                    hue(-1);\n                } else {\n                    move(\"s\", -1);\n                }\n                break;\n            case KEYS.RIGHT:\n                if (ev.ctrlKey) {\n                    hue(1);\n                } else {\n                    move(\"s\", 1);\n                }\n                break;\n            case KEYS.UP:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", 1);\n                break;\n            case KEYS.DOWN:\n                move(ev.ctrlKey && that._opacitySlider ? \"a\" : \"v\", -1);\n                break;\n            case KEYS.ENTER:\n                that._select(that._getHSV());\n                break;\n            case KEYS.F2:\n                that._colorInput.element.find(\"input\").trigger(\"focus\").select();\n                break;\n            case KEYS.ESC:\n                that._cancel();\n                break;\n            }\n        },\n        _onEnable: function(enable) {\n            var wrapper = this.wrapper;\n\n            this._hueSlider.enable(enable);\n\n            if (this._opacitySlider) {\n                this._opacitySlider.enable(enable);\n            }\n\n            wrapper.find(\"input\").attr(\"disabled\", !enable);\n\n            if (this.options._standalone) {\n                if (enable) {\n                    wrapper.removeAttr(\"aria-disabled\");\n                } else {\n                    wrapper.attr(\"aria-disabled\", true);\n                }\n            }\n        },\n        _reset: function () {\n            var that = this;\n\n            if (that._colorInput) {\n                that._colorInput.reset();\n            }\n\n            that._resetHsv();\n            that._resetColorContrast();\n        },\n        _resetColorContrast: function () {\n            var that = this,\n                contrastOptions = that.options.contrastTool;\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE));\n            }\n        },\n        _resetHsv: function () {\n            var that = this,\n                color = parseColor(BLACK);\n\n            that._updateHsv(color);\n        },\n        _sliders: function() {\n            var that = this,\n                wrapper = that.wrapper,\n                hueSlider = wrapper.find(\".k-hue-slider\"),\n                opacitySlider = wrapper.find(\".k-alpha-slider\");\n\n            function hueChange(e) {\n                that._updateUI(that._getHSV(e.value, null, null, null));\n            }\n\n            hueSlider.attr(\"aria-label\", \"hue\");\n            that._hueSlider = hueSlider.kendoSlider({\n                min: 0,\n                max: 360,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: hueChange,\n                change: hueChange\n            }).data(\"kendoSlider\");\n\n            function opacityChange(e) {\n                that._updateUI(that._getHSV(null, null, null, e.value / 100));\n            }\n\n            opacitySlider.attr(\"aria-label\", \"opacity\");\n            that._opacitySlider = opacitySlider.kendoSlider({\n                min: 0,\n                max: 100,\n                tickPlacement: \"none\",\n                showButtons: false,\n                orientation: \"vertical\",\n                slide: opacityChange,\n                change: opacityChange\n            }).data(\"kendoSlider\");\n        },\n        _svChange: function(s, v) {\n            var color = this._getHSV(null, s, v, null);\n            this._updateUI(color);\n        },\n        _updateColorContrast: function (color) {\n            var that = this,\n                contrastOptions = that.options.contrastTool,\n                backgroundColor = contrastOptions.backgroundColor ? parseColor(contrastOptions.backgroundColor) : parseColor(WHITE),\n                contrastRatio = contrastToolUtils.getContrastFromTwoRGBAs(parseColor(color.toCssRgba()), backgroundColor),\n                contrastRatioTemplate = kendo.template(({ messages, ratio }) =>\n                                            '<div class=\"k-contrast-ratio\">' +\n                                                `<span class=\"k-contrast-ratio-text\">${encode(messages.contrastRatio)} ${encode(kendo.toString(ratio, \"n2\"))}</span>` +\n                                                '<span class=\"k-contrast-validation k-text-success\">' +\n                                                    (ratio > 4.5 ?  kendo.ui.icon(\"check\") : '') +\n                                                    (ratio > 7 ?  kendo.ui.icon(\"check\") : '') +\n                                            '</span></div>'),\n                labelTemplate = kendo.template(({ messages, ratio, limit, level }) =>\n                                            '<div>' +\n                                                `<span>${encode(level)}: ${encode(limit)} </span>` +\n                                                (ratio > limit ?\n                                                `<span class=\"k-contrast-validation k-text-success\">${encode(messages.pass)} ${kendo.ui.icon(\"check\")}</span>`\n                                                :\n                                                `<span class=\"k-contrast-validation k-text-error\">${encode(messages.fail)} ${kendo.ui.icon(\"x\")}</span>`) +\n                                            '</div>'),\n                output = \"\";\n\n            output += contrastRatioTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 4.5,\n                level: \"AA\"\n            });\n\n            output += labelTemplate({\n                messages: that.options.messages,\n                ratio: contrastRatio,\n                limit: 7,\n                level: \"AAA\"\n            });\n\n            that._contrastTool.find(\".k-contrast-ratio, div\").remove();\n            that._contrastTool.append(output);\n\n            that._updateContrastSvg(backgroundColor);\n        },\n        _updateContrastSvg: function (backgroundColor) {\n            var that = this,\n                hsvRect = that._hsvRect,\n                svgClassName = \"k-color-contrast-svg\",\n                metrics = { width: hsvRect.width(), height: hsvRect.height() },\n                newSvg;\n\n            if(!metrics.width || !metrics.height) {\n                return;\n            }\n\n            newSvg = $(contrastToolUtils.renderSvgCurveLine(metrics, that._getHSV(), backgroundColor)).addClass(svgClassName);\n            kendo.applyStylesFromKendoAttributes(newSvg, [\"position\", \"overflow\", \"pointer-events\", \"left\", \"top\", \"z-index\"]);\n\n            hsvRect.find(\".\" + svgClassName).remove();\n            hsvRect.append(newSvg);\n        },\n        _updateHsv: function (color) {\n            var that = this,\n                rect = that._hsvRect;\n\n            color = color.toHSV();\n\n            that._hsvHandle.css({\n                // saturation is 0 on the left side, full (1) on the right\n                left: color.s * rect.width() + \"px\",\n                // value is 0 on the bottom, full on the top.\n                top: (1 - color.v) * rect.height() + \"px\"\n            });\n\n            that._hueElements.css(BACKGROUNDCOLOR, Color.fromHSV(color.h, 1, 1, 1).toCss());\n            that._hueSlider.value(color.h);\n\n            if (that._opacitySlider) {\n                that._opacitySlider.wrapper.find(\".k-slider-track\").css(\"background\", \"linear-gradient(to top, transparent, \" + Color.fromHSV(color.h, 1, 1, 1).toCss());\n                that._opacitySlider.value(100 * color.a);\n            }\n\n            that._updateHsvAria(color.s, color.v);\n        },\n        _updateHsvAria: function(x,y) {\n            var value = this.value();\n\n            if (value && value.indexOf(\"rgba\") > -1) {\n                value = value.replace(\"rgba\", \"RGBA\");\n            }\n\n            this._hsvHandle.attr({\n                \"aria-label\": this._hsvDragAriaTemplate(value || ''),\n                \"aria-valuenow\": Math.round(x * 100),\n                \"aria-valuetext\": \"saturation: \" + Math.round(x * 100) + \"%, value: \" + Math.round(y * 100) + \"%\"\n            });\n        },\n        _updateUI: function(color, dontChangeInput) {\n            var that = this;\n\n            if (!color) {\n                that._reset();\n                return;\n            }\n\n            if (!dontChangeInput && that._colorInput) {\n                that._colorInput.value(color);\n            }\n\n            that._triggerSelect(color);\n            that._updateHsv(color);\n\n            if(that._contrastTool.length) {\n                that._updateColorContrast(color);\n            }\n        },\n        _wrapper: function() {\n            var options = this.options,\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-colorgradient\")\n                .attr({\n                    \"role\": \"textbox\",\n                    \"aria-keyshortcuts\": \"Enter\"\n                })\n                .append(this._template(options));\n\n            this._hueElements = $(\".k-hsv-rectangle, .k-alpha-slider .k-slider-track\", wrapper);\n            this._colorgradientInputs = $(\".k-colorgradient-inputs\", wrapper);\n            this._contrastTool = $(\".k-colorgradient-color-contrast\", wrapper);\n\n            this.wrapper = wrapper;\n        },\n        destroy: function (){\n            this._hsvEvents.destroy();\n\n            this._hueSlider.destroy();\n            if (this._opacitySlider) {\n                this._opacitySlider.destroy();\n            }\n\n            if(this._colorInput) {\n                this._colorInput.destroy();\n            }\n\n            this._hueSlider = this._opacitySlider = this._hsvRect = this._hsvHandle =\n                this._hueElements = this._selectedColor = this._colorAsText =\n                this._contrastTool = null;\n\n            ColorSelector.fn.destroy.call(this);\n        }\n    });\n\n    ui.plugin(ColorGradient);\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        DOT = \".\",\n        BACKGROUNDCOLOR = \"background-color\",\n        ITEMSELECTEDCLASS = \"k-selected\",\n        ITEMSFOCUSEDCLASS = \"k-focus\",\n        TILE_CLASS = \"k-colorpalette-tile\",\n        SIMPLEPALETTE = \"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7\",\n        WEBPALETTE = \"FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000\",\n        NS = \".kendoColorTools\",\n        FOCUS_NS = \"focus\" + NS,\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        BLUR_NS = \"blur\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector;\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    function relative(array, element, delta) {\n        array = Array.prototype.slice.call(array);\n        var n = array.length;\n        var pos = array.indexOf(element);\n        if (pos < 0) {\n            return delta < 0 ? array[n - 1] : array[0];\n        }\n        pos += delta;\n        if (pos < 0) {\n            pos += n;\n        } else {\n            pos %= n;\n        }\n        return array[pos];\n    }\n\n    var ColorPalette = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            ColorSelector.fn.init.call(that, element, options);\n\n            that._tabIndex = this.element.attr(\"tabindex\") || 0;\n\n            that._wrapper();\n\n            options = that.options;\n\n            that._selectedID = (options.ariaId || kendo.guid()) + \"_selected\";\n            that._ariaTemplate = kendo.template(that.options.ARIATemplate);\n\n            if (that._value) {\n                that._updateUI(that._value);\n                that.wrapper.find(DOT + ITEMSFOCUSEDCLASS).removeClass(ITEMSFOCUSEDCLASS);\n            }\n\n            that.wrapper.attr(\"aria-label\", that._ariaTemplate(that.value() || \"\"));\n\n            that._attachEvents();\n        },\n        focus: function(){\n            if (this.wrapper && !this.wrapper.is(\"[unselectable='on']\")) {\n                this.wrapper.trigger(\"focus\");\n            }\n        },\n        options: {\n            name: \"ColorPalette\",\n            columns: 10,\n            tileSize: null,\n            palette: \"basic\"\n        },\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper.on(CLICK_NS, DOT + TILE_CLASS, function(ev){\n                that._select(ev.currentTarget);\n            })\n            .on(KEYDOWN_NS, bind(that._keydown, that))\n            .on(BLUR_NS, function(){\n                that.wrapper.find(DOT + TILE_CLASS).removeClass(ITEMSFOCUSEDCLASS);\n            })\n            .on(FOCUS_NS, bind(that._focus, that));\n        },\n        _colors: function() {\n            var options = this.options,\n                colors = options.palette || \"basic\";\n\n            if (colors == \"websafe\") {\n                colors = WEBPALETTE;\n                options.columns = 18;\n            } else if (colors == \"basic\") {\n                colors = SIMPLEPALETTE;\n            }\n\n            if (typeof colors == \"string\") {\n                colors = colors.split(\",\");\n            }\n\n            if (Array.isArray(colors)) {\n                colors = $.map(colors, function(x) { return parseColor(x); });\n            }\n\n            return colors;\n        },\n        _current: function(item) {\n            this.wrapper.find(DOT + TILE_CLASS)\n                .removeClass(ITEMSFOCUSEDCLASS)\n                .removeAttr(\"id\");\n\n            $(item)\n                .addClass(ITEMSFOCUSEDCLASS)\n                .attr(\"id\", this._selectedID);\n\n            this.wrapper\n                .removeAttr(\"aria-activedescendant\")\n                .attr(\"aria-activedescendant\", this._selectedID);\n        },\n        _focus: function() {\n            var wrapper = this.wrapper,\n                selected = wrapper.find(\"#\" + this._selectedID);\n\n            if (selected.length === 0) {\n                this._current(wrapper.find(DOT + TILE_CLASS).first());\n            }\n        },\n        _keydown: function(e) {\n            var newCurrent,\n                wrapper = this.wrapper,\n                items = wrapper.find(DOT + TILE_CLASS),\n                current = items.filter(DOT + ITEMSFOCUSEDCLASS).get(0) || items.filter(DOT + ITEMSELECTEDCLASS).get(0),\n                keyCode = e.keyCode,\n                index;\n\n            if (current) {\n                index = Array.prototype.indexOf.call(current.parentNode.children, current);\n            }\n\n            if (keyCode == KEYS.LEFT) {\n                newCurrent = current ? current.previousSibling : items[items.length - 1];\n            } else if (keyCode == KEYS.RIGHT) {\n                newCurrent = current ? current.nextSibling : items[0];\n            } else if (keyCode == KEYS.DOWN) {\n                newCurrent = current ? (current.parentNode.nextSibling ? current.parentNode.nextSibling.children[index] : null) : items[0];\n            } else if (keyCode == KEYS.UP) {\n                newCurrent = current ? (current.parentNode.previousSibling ? current.parentNode.previousSibling.children[index] : null) : items.get[items.length - 1];\n            } else if (keyCode == KEYS.ENTER) {\n                preventDefault(e);\n                if (current) {\n                    this._select(current);\n                    this.trigger(\"forceSelect\", { value: this.value() });\n                    return;\n                }\n            } else if (keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n\n            if (newCurrent && newCurrent.nodeType !== 1) {\n                newCurrent = null;\n            }\n\n            if (newCurrent) {\n                preventDefault(e);\n\n                this._current(newCurrent);\n            }\n        },\n        _onEnable: function(enable) {\n            if (this.options._standalone) {\n                if (enable) {\n                    this.wrapper.attr(\"tabindex\", this._tabIndex);\n                    this.wrapper.removeAttr(\"aria-disabled\");\n                } else {\n                    this.wrapper.removeAttr(\"tabindex\");\n                    this.wrapper.attr(\"aria-disabled\", true);\n                }\n            }\n        },\n        _select: function(item) {\n            var that = this,\n                items = that.wrapper.find(DOT + TILE_CLASS);\n\n            item = $(item);\n\n            ColorSelector.fn._select.call(that, item.css(BACKGROUNDCOLOR));\n\n            items.removeClass(ITEMSELECTEDCLASS).removeAttr(\"aria-selected\");\n            item.addClass(ITEMSELECTEDCLASS).attr(\"aria-selected\", true);\n        },\n        _template: kendo.template(({colors, columns, tileSize, value, id}) => {\n            let startPart = '<table class=\"k-colorpalette-table\" role=\"presentation\"><tr role=\"row\">';\n\n            let cellElements = \"\";\n            for (var i = 0; i < colors.length; ++i) {\n                let selected = colors[i].equals(value);\n                if (i && i % columns == 0) {\n                    cellElements += '</tr><tr role=\"row\">';\n                }\n\n                cellElements +=\n                `<td role=\"gridcell\" unselectable=\"on\" ${kendo.attr(\"style-background-color\")}=\"${colors[i].toCss()}\"` +\n                    `${selected ? \" aria-selected=true\" : \"\"} ` +\n                    `${(id && i === 0) ? 'id=\\\\\"' + id + '\\\\\" ' : '' } ` +\n\n                    `class=\"k-colorpalette-tile${selected ? \" \" + ITEMSELECTEDCLASS : \"\"}\" ` +\n                    `aria-label=\"${colors[i].toCss()}\"></td>`;\n            }\n\n            let endPart = '</tr></table>';\n            return startPart + cellElements + endPart;\n        }),\n        _tileSize: function() {\n            var tileSize = this.options.tileSize,\n                width, height;\n\n            if (tileSize) {\n                if (/number|string/.test(typeof tileSize)) {\n                    width = height = parseFloat(tileSize);\n                } else if (typeof tileSize == \"object\") {\n                    width = parseFloat(tileSize.width);\n                    height = parseFloat(tileSize.height);\n                } else {\n                    throw new Error(\"Unsupported value for the 'tileSize' argument\");\n                }\n                this.wrapper.find(DOT + TILE_CLASS).css({ width: width, height: height });\n            }\n        },\n        _updateUI: function(color) {\n            var item = null,\n                items = this.wrapper.find(DOT + TILE_CLASS);\n\n            this.wrapper.find(DOT + TILE_CLASS).each(function(){\n                var c = parseColor($(this).css(BACKGROUNDCOLOR));\n\n                if (c && c.equals(color)) {\n                    item = this;\n\n                    return false;\n                }\n            });\n\n            this._current(item);\n\n            items.removeClass(ITEMSELECTEDCLASS);\n\n            if (item) {\n                $(item).addClass(ITEMSELECTEDCLASS);\n                this.wrapper.attr(\"aria-label\", this._ariaTemplate(this.value() || \"\"));\n            }\n        },\n        _wrapper: function() {\n            var options = this.options,\n                colors = this._colors(),\n                wrapper,\n                templateElement;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            templateElement = $(this._template({\n                colors: colors,\n                columns: options.columns,\n                tileSize: options.tileSize,\n                value: this._value,\n                id: options.ariaId\n            }));\n\n            kendo.applyStylesFromKendoAttributes(templateElement, [\"background-color\"]);\n            wrapper.addClass(\"k-colorpalette\")\n                .attr(\"role\", \"grid\")\n                .append(templateElement)\n                .attr(\"tabindex\", this._tabIndex);\n\n            this.wrapper = wrapper;\n            this._tileSize();\n        }\n    });\n\n\n    ui.plugin(ColorPalette);\n\n\n})(window.kendo.jQuery);\n\n(function($, undefined$1){\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        html = kendo.html,\n        Color = kendo.Color,\n        extend = $.extend,\n        encode = kendo.htmlEncode,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply  : \"Apply\",\n            cancel : \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        KEYS = kendo.keys,\n\n        NO_COLOR = \"k-no-color\",\n        SELECTED = \"k-selected\",\n        PREVIEW_MASK = \".k-color-preview-mask\",\n\n        ARIA_PRESSED = \"aria-pressed\",\n        ARIA_DISABLED = \"aria-disabled\",\n\n        VIEWS = {\n            \"gradient\": ui.ColorGradient,\n            \"palette\": ui.ColorPalette\n        };\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    var FlatColorPicker = ColorSelector.extend({\n        init: function(element, options) {\n            var that = this;\n\n            if (options && options.autoupdate === false) {\n                options._standalone = false;\n            }\n\n            ColorSelector.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            that._wrapper();\n\n            var value = that.color();\n\n            that._changeView(options.view);\n\n            that._setViewSize();\n\n            if (value) {\n                that._updateUI(value);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._previousColor.addClass(NO_COLOR);\n            }\n\n            that._attachEvents();\n            that._navigation();\n        },\n        destroy: function() {\n            var that = this;\n\n            ColorSelector.fn.destroy.call(this);\n\n            if (that._view) {\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            that.element.off(NS);\n\n            that._selectedColor = that._previousColor = that._viewsContainer = that._view = null;\n        },\n        options: {\n            name: \"FlatColorPicker\",\n            opacity: false,\n            buttons: false,\n            input: true,\n            preview: true,\n            clearButton: false,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            palette: null,\n            autoupdate : true,\n            backgroundColor: null,\n            columns: 10,\n            tileSize: 24,\n            messages   : MESSAGES,\n            size: \"medium\", // Fake styling option to accomplish colorpicker's size for textbox and button\n            _otOfPicker: true\n        },\n        setBackgroundColor: function (color) {\n            var that = this;\n\n            if(that._view && that._view.setBackgroundColor) {\n                that._view.setBackgroundColor(color);\n            }\n        },\n        _attachEvents: function() {\n            var that = this;\n\n            that.wrapper\n                .on(KEYDOWN_NS, bind(that._keydown, that))\n                .on(CLICK_NS, \".k-coloreditor-reset\", function () {\n                    that._clearColor = true;\n                    that._updateUI(null);\n                    that._view.value(null);\n                })\n                .on(CLICK_NS, \".k-coloreditor-apply\", function(){\n                    if(that._clearColor) {\n                        that._select(null);\n                    } else {\n                        that._select(that._view.color());\n                    }\n                })\n                .on(CLICK_NS, \".k-coloreditor-cancel\", function(){\n                    delete that._clearColor;\n                    that._updateUI(that.color());\n                    that._cancel();\n                })\n                .on(CLICK_NS, \".k-button[data-view]\", function(ev){\n                    var viewButton =  $(ev.target).closest(\"[data-view]\");\n\n                    if(viewButton.is(\".\" + SELECTED)) {\n                        return;\n                    }\n\n                    that.wrapper.find(\".k-button[data-view]\").removeClass(SELECTED).attr(ARIA_PRESSED, false);\n                    viewButton.addClass(SELECTED).attr(ARIA_PRESSED, true);\n                    that._changeView(viewButton.data(\"view\"));\n                });\n        },\n        _select: function(value) {\n            var that = this;\n\n            ColorSelector.fn._select.call(that, value);\n\n            that._updatePreviousColor(value);\n        },\n        _updatePreviousColor: function (value) {\n            var that = this;\n\n            if (value) {\n                that._previousColor.removeClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, value.toDisplay());\n            } else {\n                that._previousColor.addClass(NO_COLOR);\n                that._previousColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n        },\n        _changeView: function (mode) {\n            var that = this,\n                options = $.extend({}, that.options),\n                selector =  VIEWS[mode],\n                selectedColor, hsvColor;\n\n            if(that._view && that._view._colorInput) {\n                that.options.format = that._view._colorInput._viewModel.format;\n            }\n\n            that.options.view = mode;\n\n            delete options.name;\n            delete options.change;\n            delete options.select;\n            delete options.cancel;\n            delete options._standalone;\n\n            if (that._view) {\n                selectedColor = that._view.color();\n                that._view.destroy();\n                that._viewsContainer.empty();\n            }\n\n            if (selectedColor) {\n                selectedColor = selectedColor.toHSV();\n                hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                that._cachedHue = selectedColor.toHSV().h;\n                selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n            }\n\n            options._otOfPicker = false;\n\n            if (selector) {\n                that._view = new VIEWS[mode]($(\"<div></div>\").appendTo(that._viewsContainer), options);\n                that._view.value(selectedColor);\n\n                that._view.bind(\"change\", function (ev) {\n                    delete that._clearColor;\n                    that._updateUI(ev.sender.color(), true);\n                });\n\n                that._view.bind(\"forceSelect\", function (ev) {\n                    delete that._clearColor;\n                    that._select(ev.sender.color());\n                });\n            }\n        },\n        _onEnable: function(enable) {\n            var that = this;\n\n            if (that._view) {\n                that._view._onEnable(enable);\n            }\n\n            if (that.options._standalone) {\n                if (enable) {\n                    that.wrapper.removeAttr(ARIA_DISABLED);\n                } else {\n                    that.wrapper.attr(ARIA_DISABLED, true);\n                }\n            }\n        },\n        focus: function() {\n            var that = this;\n\n            if (that._view) {\n                that._view.focus();\n            }\n        },\n        _updateUI: function(color, dontChangeView) {\n            var that = this;\n\n            if (color && color.toDisplay) {\n                that._selectedColor.removeClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, color.toDisplay());\n            } else {\n                that._selectedColor.addClass(NO_COLOR);\n                that._selectedColor.children(PREVIEW_MASK).css(BACKGROUNDCOLOR, \"\");\n            }\n\n            that._triggerSelect(color);\n\n            if (that.options.autoupdate) {\n                that._updatePreviousColor(color);\n            }\n\n            if(!dontChangeView) {\n                that._view.value(color);\n            }\n        },\n        _setViewSize: function() {\n            var that = this,\n                wrapper = that.wrapper[0],\n                previewWidth = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewHeight = parseInt((that.options.tileSize.width || that.options.tileSize), 10),\n                previewColumns = that.options.columns;\n\n            wrapper.style.setProperty(\"--kendo-color-preview-columns\", previewColumns);\n            wrapper.style.setProperty(\"--kendo-color-preview-width\", previewWidth + \"px\");\n            wrapper.style.setProperty(\"--kendo-color-preview-height\", previewHeight + \"px\");\n        },\n        _keydown: function(e) {\n            if (e.keyCode == KEYS.ESC) {\n                this._cancel();\n            }\n        },\n        _template: function () {\n            var that = this,\n                options = that.options,\n                buttonOptions = extend({}, options, {\n                    fillMode: \"flat\",\n                    themeColor: \"base\",\n                    rounded: \"medium\"\n                });\n\n            return kendo.template((options, buttonOptions) =>\n                    '<div class=\"k-coloreditor-header k-hstack\">' +\n                        ((options.views && options.views.length > 1) ?\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            '<div role=\"group\" class=\"k-button-group k-button-group-flat\">' +\n                                html.renderButton(`<button aria-pressed=\"false\" data-view=\"gradient\" title=\"${encode(options.messages.gradient)}\"></button>`, extend({ icon: \"droplet-slider\" }, buttonOptions)) +\n                                html.renderButton(`<button aria-pressed=\"false\" data-view=\"palette\" title=\"${encode(options.messages.palette)}\"></button>`, extend({ icon: \"palette\" }, buttonOptions)) +\n                            '</div>' +\n                        '</div>'\n                        : '') +\n                        '<div class=\"k-spacer\"></div>' +\n                        '<div class=\"k-coloreditor-header-actions k-hstack\">' +\n                            (options.clearButton ?\n                            html.renderButton(`<button class=\"k-coloreditor-reset\" title=\"${encode(options.messages.clearColor)}\"></button>`, extend({ icon: \"droplet-slash\" }, buttonOptions))\n                            : '') +\n                            (options.preview ?\n                            '<div class=\"k-coloreditor-preview k-vstack\">' +\n                                '<span class=\"k-coloreditor-preview-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                                '<span class=\"k-coloreditor-current-color k-color-preview\">' +\n                                    '<span class=\"k-color-preview-mask\"></span>' +\n                                '</span>' +\n                            '</div>'\n                            : '') +\n                        '</div>' +\n                    '</div>' +\n                    '<div class=\"k-coloreditor-views k-vstack\"></div>' +\n                    (options.buttons ?\n                    '<div class=\"k-coloreditor-footer k-actions k-actions-end k-actions-horizontal\">' +\n                        html.renderButton(`<button class=\"k-coloreditor-cancel\" title=\"${encode(options.messages.cancel)}\">${encode(options.messages.cancel)}</button>`, extend({}, buttonOptions, { fillMode: \"solid\" })) +\n                        html.renderButton(`<button class=\"k-coloreditor-apply\" title=\"${encode(options.messages.apply)}\">${encode(options.messages.apply)}</button>`, extend({}, buttonOptions, { fillMode: \"solid\", themeColor: \"primary\" })) +\n                    '</div>'\n                    : '')\n                )(options, buttonOptions);\n        },\n        _wrapper: function() {\n            var options = this.options,\n                wrapper;\n\n            if (this.element.is(\"input\")) {\n                wrapper = this.element.addClass(\"k-hidden\").wrap(\"<div>\").parent();\n            } else {\n                wrapper = this.element;\n            }\n\n            wrapper.addClass(\"k-flatcolorpicker k-coloreditor\")\n                .attr({\n                    \"role\": \"textbox\",\n                    \"aria-keyshortcuts\": \"Enter\"\n                })\n                .append(this._template());\n\n            this._selectedColor = $(\".k-coloreditor-preview-color\", wrapper);\n            this._previousColor = $(\".k-coloreditor-current-color\", wrapper);\n            this._viewsContainer = $(\".k-coloreditor-views\", wrapper);\n\n            wrapper.find(\".k-button[data-view=\" + options.view + \"]\").addClass(SELECTED).attr(ARIA_PRESSED, true);\n\n            this.wrapper = wrapper;\n        }\n    });\n\n    ui.plugin(FlatColorPicker);\n})(window.kendo.jQuery);\n\nvar __meta__ = {\n    id: \"colorpicker\",\n    name: \"Color tools\",\n    category: \"web\",\n    description: \"Color selection widgets\",\n    depends: [ \"core\", \"color\", \"popup\", \"slider\", \"userevents\", \"button\", \"binder\", \"textbox\", \"numerictextbox\", \"html.button\" ]\n};\n\n(function($, undefined$1) {\n    // WARNING: removing the following jshint declaration and turning\n    // == into === to make JSHint happy will break functionality.\n\n    var kendo = window.kendo,\n        ui = kendo.ui,\n        Widget = ui.Widget,\n        Color = kendo.Color,\n        parseColor = kendo.parseColor,\n        KEYS = kendo.keys,\n        BACKGROUNDCOLOR = \"background-color\",\n        MESSAGES = {\n            apply: \"Apply\",\n            cancel: \"Cancel\",\n            noColor: \"no color\",\n            clearColor: \"Clear color\",\n            previewInput: null,\n            contrastRatio: \"Contrast ratio:\",\n            fail: \"Fail\",\n            pass: \"Pass\",\n            hex: \"HEX\",\n            toggleFormat: \"Toggle format\",\n            red: \"Red\",\n            green: \"Green\",\n            blue: \"Blue\",\n            alpha: \"Alpha\",\n            gradient: \"Gradient view\",\n            palette: \"Palette view\"\n        },\n        NS = \".kendoColorTools\",\n        CLICK_NS = \"click\" + NS,\n        KEYDOWN_NS = \"keydown\" + NS,\n        ColorSelector = ui.colorpicker.ColorSelector,\n        FlatColorPicker = ui.FlatColorPicker;\n\n    /* -----[ The ColorPicker widget ]----- */\n\n    var ColorPicker = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            // Legacy support for the cases where only palette is defined\n            if (options && options.palette && !options.view) {\n                options.view = \"palette\";\n            }\n\n            Widget.fn.init.call(that, element, options);\n            options = that.options = kendo.deepExtend({}, that.options, options);\n            element = that.element;\n\n            var value = element.attr(\"value\") || element.val();\n            if (value) {\n                value = parseColor(value, true);\n            } else {\n                value = parseColor(options.value, true);\n            }\n            that._value = options.value = value;\n\n            var _buttonHtml = kendo.html.renderButton('<button class=\"k-input-button\" unselectable=\"on\" aria-label=\"select\" tabindex=\"-1\"></button>', $.extend({}, that.options, {\n                icon: \"caret-alt-down\"\n            }));\n\n            var content = that._inputWrapper = that.wrapper = $(that._template($.extend({}, that.options, {\n                _buttonHtml: _buttonHtml\n            })));\n\n            that._applyCssClasses();\n            element.hide().after(content);\n\n            if (element.is(\"input\")) {\n                element.appendTo(content);\n                that._preventDefaultLabelClick();\n            }\n\n            that._tabIndex = element.attr(\"tabIndex\") || 0;\n\n            that.enable(!element.attr(\"disabled\"));\n\n            var accesskey = element.attr(\"accesskey\");\n            if (accesskey) {\n                element.attr(\"accesskey\", null);\n                content.attr(\"accesskey\", accesskey);\n            }\n\n            that.bind(\"activate\", function(ev) {\n                if (!ev.isDefaultPrevented()) {\n                    that.toggle();\n                }\n            });\n\n            that._updateUI(value);\n        },\n        destroy: function() {\n            this.wrapper.off(NS).find(\"*\").off(NS);\n            if (this._popup) {\n                this._selector.destroy();\n                this._popup.destroy();\n            }\n            this._selector = this._popup = this.wrapper = null;\n            Widget.fn.destroy.call(this);\n        },\n        enable: function(enable) {\n            var that = this,\n                wrapper = that.wrapper,\n                arrow = wrapper.find(\".k-input-button\");\n\n            if (arguments.length === 0) {\n                enable = true;\n            }\n\n            that.element.attr(\"disabled\", !enable);\n            wrapper.attr(\"aria-disabled\", !enable);\n\n            arrow.off(NS).on(\"mousedown\" + NS, preventDefault);\n\n            wrapper.addClass(\"k-disabled\")\n                .removeAttr(\"tabIndex\")\n                .add(\"*\", wrapper).off(NS);\n\n            if (enable) {\n                wrapper.removeClass(\"k-disabled\")\n                    .attr(\"tabIndex\", that._tabIndex)\n                    .on(\"mouseenter\" + NS, function() { wrapper.addClass(\"k-hover\"); })\n                    .on(\"mouseleave\" + NS, function() { wrapper.removeClass(\"k-hover\"); })\n                    .on(\"focus\" + NS, function() { wrapper.addClass(\"k-focus\"); })\n                    .on(\"blur\" + NS, function() { wrapper.removeClass(\"k-focus\"); })\n                    .on(KEYDOWN_NS, bind(that._keydown, that))\n                    .on(CLICK_NS, \".k-input-button\", bind(that.toggle, that))\n                    .on(CLICK_NS, \".k-input-inner\", function() {\n                        that.trigger(\"activate\");\n                    });\n            } else {\n                that.close();\n            }\n        },\n\n        _template: kendo.template(({ toolIcon, _buttonHtml }) =>\n           '<span role=\"combobox\" aria-haspopup=\"dialog\" aria-expanded=\"false\" class=\"k-colorpicker k-picker k-icon-picker\">' +\n                '<span class=\"k-input-inner\">' +\n                    `<span class=\"k-value-icon k-color-preview ${toolIcon ? 'k-icon-color-preview' : ''}\">` +\n                        (toolIcon ? kendo.ui.icon({ icon: toolIcon, iconClass: \"k-color-preview-icon\" }) : '') +\n                        '<span class=\"k-color-preview-mask\"></span>' +\n                    '</span>' +\n                '</span >' +\n                _buttonHtml +\n            '</span>'\n        ),\n\n        options: {\n            name: \"ColorPicker\",\n            closeOnSelect: false,\n            contrastTool: false,\n            palette: null,\n            columns: 10,\n            toolIcon: null,\n            value: null,\n            messages: MESSAGES,\n            opacity: false,\n            buttons: true,\n            preview: true,\n            clearButton: false,\n            input: true,\n            format: \"hex\",\n            formats: [\"rgb\", \"hex\"],\n            view: \"gradient\",\n            views: [\"gradient\", \"palette\"],\n            backgroundColor: null,\n            ARIATemplate: (data) => `Current selected color is ${data || \"none\"}`,\n            size: \"medium\",\n            rounded: \"medium\",\n            fillMode: \"solid\"\n        },\n\n        events: [ \"activate\", \"change\", \"select\", \"open\", \"close\" ],\n\n        open: function() {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().open();\n            }\n        },\n        close: function() {\n            var selOptions = (this._selector && this._selector.options) || {};\n            selOptions._closing = true;\n            this._getPopup().close();\n\n            delete selOptions._closing;\n        },\n        toggle: function() {\n            if (!this.element.prop(\"disabled\")) {\n                this._getPopup().toggle();\n            }\n        },\n        setBackgroundColor: function(color) {\n            var that = this,\n                handler = function() { that._selector.setBackgroundColor(color); };\n\n            that.options.contrastTool.backgroundColor = color;\n\n            if (that._selector && (that._popup && that._popup.visible())) {\n                that._selector.setBackgroundColor(color);\n            } else if (that._popup) {\n                that._popup.unbind(\"activate\", handler);\n                that._popup.bind(\"activate\", handler);\n            }\n        },\n        _noColorIcon: function() {\n            return this.wrapper.find(\".k-color-preview\");\n        },\n        color: ColorSelector.fn.color,\n        value: ColorSelector.fn.value,\n        _select: ColorSelector.fn._select,\n        _triggerSelect: ColorSelector.fn._triggerSelect,\n        _isInputTypeColor: ColorSelector.fn._isInputTypeColor,\n\n        _preventDefaultLabelClick: function() {\n            // if there exists a <label> associated with this\n            // input field, we must catch clicks on it to prevent\n            // the built-in color picker from showing up.\n            // https://github.com/telerik/kendo-ui-core/issues/292\n            var that = this,\n                element = that.element,\n                label = element.closest(\"label\"),\n                id = element.attr(\"id\");\n\n            if (id) {\n                label = label.add('label[for=\"' + id + '\"]');\n            }\n            label.on(\"click\", function(ev) {\n                that.open();\n                ev.preventDefault();\n            });\n        },\n\n        _updateUI: function(value, dontChangeSelector) {\n            this._updateInput(value);\n            this._triggerSelect(value);\n\n            this.wrapper.find(\".k-color-preview-mask\").css(\n                BACKGROUNDCOLOR,\n                value ? value.toDisplay() : \"\"\n            );\n\n            this._noColorIcon().toggleClass(\"k-no-color\", !value);\n\n            if (this._selector && !dontChangeSelector) {\n                this._selector.value(value);\n            }\n        },\n        _updateInput: function(value) {\n            var formattedValue = \"\";\n\n            if (value) {\n                if (this._isInputTypeColor() || value.a == 1) {\n                    // seems that input type=\"color\" doesn't support opacity\n                    // in colors; the only accepted format is hex #RRGGBB\n                    formattedValue = value.toCss();\n                } else {\n                    formattedValue = value.toCssRgba();\n                }\n\n                this.element.val(formattedValue);\n            }\n\n            if (!this._ariaTemplate) {\n                this._ariaTemplate = kendo.template(this.options.ARIATemplate);\n            }\n\n            this.wrapper.attr(\"aria-label\", this._ariaTemplate(formattedValue));\n        },\n        _keydown: function(ev) {\n            var key = ev.keyCode;\n            if (this._getPopup().visible()) {\n                if (key == KEYS.ESC) {\n                    this._selector._cancel();\n                } else {\n                    this._selector._keydown(ev);\n                }\n                preventDefault(ev);\n            }\n            else if (key == KEYS.ENTER || key == KEYS.DOWN) {\n                this.open();\n                preventDefault(ev);\n            }\n        },\n        _getPopup: function() {\n            var that = this, popup = that._popup;\n\n            if (!popup) {\n                var options = that.options;\n                var selectorType;\n\n                selectorType = FlatColorPicker;\n\n                options.autoupdate = options.buttons !== true;\n                delete options.select;\n                delete options.change;\n                delete options.cancel;\n\n                options._otOfPicker = false;\n\n                var id = kendo.guid();\n\n                var selectorWrapper = $('<div id=\"' + id + '\" class=\"k-colorpicker-popup\"></div>').appendTo(document.body);\n                var selector = that._selector = new selectorType($('<div></div>').appendTo(selectorWrapper), options);\n\n                that.wrapper.attr(\"aria-controls\", id);\n\n                that._popup = popup = selectorWrapper.kendoPopup({\n                    anchor: that.wrapper,\n                    adjustSize: { width: 5, height: 0 }\n                }).data(\"kendoPopup\");\n\n                selector.bind({\n                    select: function(ev) {\n                        that._updateUI(parseColor(ev.value), true);\n                    },\n                    change: function(ev) {\n                        if (that.options.buttons) {\n                            that._select(selector.color());\n                        } else {\n                            that._updateUI(parseColor(ev.value), true);\n                        }\n\n                        if (that.options.buttons || (that._selector.options.view === \"palette\" && that.options.closeOnSelect)) {\n                            that.close();\n                        }\n                    },\n                    cancel: function() {\n                        that.close();\n                    }\n                });\n                popup.bind({\n                    close: function(ev) {\n                        if (that.trigger(\"close\")) {\n                            ev.preventDefault();\n                            return;\n                        }\n                        that.wrapper.removeClass(\"k-focus\");\n\n                        var color = selector.color();\n\n                        if (!that.options.buttons) {\n                            that._select(color);\n                        } else {\n                            that._select(that.color());\n                        }\n\n                        color = that.color();\n\n                        if (color && color.h) {\n                            that._cachedHue = color.h;\n                        }\n\n                        var clickedOutside = event &&\n                            event instanceof MouseEvent &&\n                            $(event.target).parents(\".k-colorpicker-popup\").length === 0;\n\n                        if (!clickedOutside) {\n                            setTimeout(function() {\n                                if (that.wrapper && !that.wrapper.is(\"[unselectable='on']\")) {\n                                    that.wrapper.trigger(\"focus\");\n                                }\n                            }, 0);\n                        }\n\n                        that.wrapper.attr(\"aria-expanded\", false);\n                    },\n                    open: function(ev) {\n                        if (that.trigger(\"open\")) {\n                            ev.preventDefault();\n                        } else {\n                            that.wrapper.addClass(\"k-focus\");\n                            that.wrapper.attr(\"aria-expanded\", true);\n                        }\n                    },\n                    activate: function() {\n                        var hsvColor,\n                            selectedColor = that.color();\n\n                        if (selectedColor) {\n                            selectedColor = selectedColor.toHSV();\n                            hsvColor = Color.fromHSV(that._cachedHue || 0, selectedColor.s, selectedColor.v, selectedColor.a);\n                            selectedColor = selectedColor.equals(hsvColor) ? hsvColor : selectedColor;\n                        }\n\n                        selector.value(selectedColor);\n                        selector.focus();\n                        that.wrapper.addClass(\"k-focus\");\n                    }\n                });\n            }\n            return popup;\n        }\n    });\n\n    function preventDefault(ev) { ev.preventDefault(); }\n\n    function bind(callback, obj) {\n        return function() {\n            return callback.apply(obj, arguments);\n        };\n    }\n\n    ui.plugin(ColorPicker);\n\n    kendo.cssProperties.registerPrefix(\"ColorPicker\", \"k-picker-\");\n\n    kendo.cssProperties.registerValues(\"ColorPicker\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([['full', 'full']])\n    }]);\n\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}