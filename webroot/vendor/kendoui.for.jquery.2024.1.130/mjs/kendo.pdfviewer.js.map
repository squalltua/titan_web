{"version":3,"file":"kendo.pdfviewer.js","names":["proxy","a","b","e","bind","el","event","callback","addEventListener","unbind","removeEventListener","noop","preventDefault","touchRegExp","IGNORE_MOUSE_TIMEOUT","normalizeEvent","type","match","pageX","changedTouches","pageY","clientX","clientY","originalEvent","isTouch","offsetX","offsetY","ctrlKey","shiftKey","altKey","Draggable","ref","this$1$1","this","press","drag","release","mouseOnly","_pressHandler","_dragHandler","_releaseHandler","_ignoreMouse","_mouseOnly","_touchstart","touches","length","_touchmove","_touchend","setTimeout","_restoreMouse","_mousedown","which","document","_mousemove","_mouseup","_pointerdown","isPrimary","button","_pointermove","_pointerup","prototypeAccessors","configurable","supportPointerEvent","window","PointerEvent","get","_element","ownerDocument","prototype","bindTo","element","_unbindFromCurrent","_bindToCurrent","_usePointers","update","destroy","Object","defineProperties","default","__meta__$3","id","name","category","description","depends","$","undefined$1","throttle","func","wait","options","timeout","context","args","result","previous","later","leading","Date","getTime","apply","now","remaining","arguments","clearTimeout","trailing","FRAMES_PER_SECOND","SCROLL","kendo","ui","PdfViewerCommon","Scroller","constructor","events","filter","panScrollThrottleDelay","scrollDirectionModifier","scrollThrottleDelay","onElementScroll","state","trackNextElementScroll","scrollTo","scrollLeft","scrollTop","onDragStart","dragStarted","shouldTrackPanEvents","target","selector","closest","matchesElementSelector","setState","location","locationDelta","x","y","onDrag","calculateEventLocationDelta","directionModifier","onDragEnd","assign","resetState","bindEvents","unbindEvents","initDraggable","destroyDraggable","throttledOnDrag","draggable","cancel","bindDraggableEvents","bindElementScroll","throttledOnElementScroll","unbindElementScroll","unbindDraggableEvents","newState","trackPanEvents","enablePanEventsTracking","disablePanEventsTracking","trackScrollEvent","currentPage","rootElement","scrollElement","querySelector","page","Math","floor","round","offsetHeight","offsetTop","scrollToPage","pageNumber","pages","querySelectorAll","HTMLDivElement","top","max","min","behavior","scrollToSearchMatch","matchElement","scroller","closestCharElement","closestTextElement","closestPageElement","offsetLeft","jQuery","extend","pdfviewer","pdfjs","lib","pdfjsLib","isLoaded","console","error","__meta__$2","PDFJS","Class","atob","PDFJSProcessor","init","viewer","file","fetchDocument","that","deferred","Deferred","messages","errorMessages","_isBase64Data","data","getDocument","promise","then","pdf","pageSizes","pagePromises","_downloadData","getData","blob","Blob","resolve","i","numPages","push","getPage","Promise","all","map","pagePromise","viewport","getViewport","scale","width","height","total","catch","_triggerError","message","parseError","notFoundError","includes","alertMessage","notFound","_renderBlankPage","fetchPageData","number","downloadFile","fileName","progress","pageContainer","done","reader","FileReader","readAsDataURL","onload","saveAs","dataURI","proxyURL","navigateToDestination","dest","split","JSON","parse","decodeURI","isString","getDestination","explicitDest","_navigateToDest","zoom","getPageIndex","pageIndex","activatePage","_updateDocument","loadingTask","equalSign","test","indexOf","renderTextLayer","params","processor","__meta__$1","DPLProcessor","read","upload","download","ajax","url","dataType","success","stringify","xhr","responseText","pageField","geometries","fromJSON","json","_clearPages","_renderPages","resize","dpl","parseJSON","UploadHelper","_initUpload","uploadElement","extendUploadOptions","uploadOptions","select","_onSelect","_onSuccess","_onError","complete","_onComplete","showFileList","multiple","validation","allowedExtensions","async","saveUrl","autoUpload","saveField","kendoUpload","getKendoUpload","response","isPlainObject","XMLHttpRequest","notSupported","fileToUpload","files","trigger","extension","toLowerCase","fromFile","onerror","readAsArrayBuffer","rawFile","drawing","Group","Surface","RENDER","geometryTypes","Path","MultiPath","Rect","Image","Text","Page","attr","_updatePageSize","ratio","pageElement","size","render","BlankPage","_externalDropZoneId","_uploadHelper","_upload","find","dropZone","DPLPage","draw","group","surface","_drawGeometries","load","loaded","_initSurface","surfaceOptions","view","kGeometry","geometry","_drawPath","_drawRect","_drawImage","_drawText","append","rectGeo","point","transform","_getMatrix","fill","fillOptions","stroke","strokeOptions","imageRect","src","font","content","path","paths","subPath","segments","moveTo","j","segment","points","lineTo","curveTo","closed","close","matrix","create","Matrix","PDFJSPage","canvas","css","fn","call","defaultScale","force","_scale","_page","_renderPromise","dpr","devicePixelRatio","getContext","_dpr","_renderTask","canvasContext","_renderTextLayer","textLayer","remove","getTextContent","normalizeWhitespace","textContent","html","container","textDivs","enhanceTextSelection","_renderAnnotationLayer","annotationLayer","position","left","overflow","pointerEvents","getAnnotations","intent","annotations","annotation","subtype","rect","boundingRect","convertToViewportPoint","encodeURI","forEach","link","span","display","SEARCH_HIGHLIGHT_MARK_CLASS","isArray","Array","SearchDOM","processDom","highlightClass","charClass","targets","textNodes","charIndex","text","traverseToTextNode","processTextNode","node","nodeType","childNodes","wrap","parent","empty","splitChars","children","unwrap","newHtml","innerHTML","search","value","matchCase","expression","RegExp","matches","resetMark","resetHighlight","resetMatchIndex","exec","startOffset","index","endOffset","highlightAll","mark","start","end","highlight","matchIndex","addClass","removeClass","removeAttr","currentIndex","wrapInner","contents","nextMatch","previousMatch","getMarkedIndex","getFirstMarked","eq","each","item","encode","htmlEncode","outerWidth","_outerWidth","EXTENSIONS","keys","ErrorDialog","actions","dialogs","okText","_dialog","kendoDialog","getKendoDialog","open","center","ExportAsDialog","fileFormats","exportAsDialog","png","svg","title","_initializeDialog","autoFocus","resizable","modal","preventScroll","maxWidth","template","labels","saveAsType","save","_updateModel","pagesCount","viewModel","set","dialogMessages","dialog","kendoWindow","getKendoWindow","observable","defaultFileName","SearchDialog","dragHandle","icon","iconClass","inputLabel","of","next","_showSearchDialog","_hideSearchDialog","innerWidth","kendoStop","kendoAnimate","effects","direction","fade","duration","ev","properties","hide","dialogElm","prepend","_draggable","axis","dragstart","wnd","containment","startPosition","client","getOffset","_innerWidth","parseInt","clientWidth","support","scrollbar","maxLeft","isNaN","toString","userEvents","stopPropagation","searchModel","boundValue","searchText","matchCaseClick","prev","onKeyup","key","keyCode","navigationFn","ENTER","ESC","onInput","Command","OpenCommand","click","PageChangeCommand","current","targetPage","_pageNum","Number","DownloadCommand","info","ExportCommand","_saveDialog","_initDialog","exportImage","exportSVG","EnableSelectionCommand","_toggleSelection","EnablePanCommand","OpenSearchCommand","searchDialog","pageContainerWrapper","offset","_open","_next","_prev","_close","changeHandler","_change","zoomStartHandler","_closeDialog","openFileHandler","_searchDOM","_initSearchDOM","searchEngine","_updateSearchModel","toolbar","field","model","_scrollToMark","marked","pdfScroller","ZoomCommand","loadedPagesHeight","containerHeight","clientHeight","updatedVisiblePagesCount","renderTasks","processingLib","_calculateZoom","updateViewer","_scrollingStarted","zoomScale","_setPageContainerScaleFactor","pageHeight","_visiblePages","_visiblePagesCount","_loadVisiblePages","_triggerZoomEnd","preventZoom","viewerOptions","visibleCanvas","calculatedDpr","scaleValue","_allowResize","_autoFit","zoomIn","zoomRate","zoomOut","_autoZoomScale","replace","zoomMin","zoomMax","updateComboBox","_updateZoomComboBox","PrintCommand","_renderPrintContainer","_loadAllPages","processAfterRender","printContainer","loadPromises","renderPromises","getRenderPromise","_originalScale","_renderPrintPages","_printDocument","_renderPrintImage","div","img","toDataURL","myWindow","browser","write","focus","print","chrome","chromiumEdge","on","popupBlocked","__meta__","NS","getCurrentPage","PLUS","MINUS","ZERO","NUMPAD_ZERO","Widget","ERROR","KEYDOWN","MOUSEWHEEL","UPDATE","ZOOM_SCALE","PAGE_CHANGE","ZOOMCOMMAND","CLICK","PROCESSORS","styles","PREDEFINED_ZOOM_VALUES","PDFViewer","deepExtend","_processMessages","_wrapper","_renderToolbar","_initProcessor","_renderPageContainer","_loadDocument","notify","_showWatermarkOverlay","wrapper","pdfjsProcessing","dplProcessing","loadOnDemand","items","defaultPageSize","zoomLevel","actualWidth","autoWidth","fitToWidth","fitToPage","exportAs","pager","first","last","toggleSelection","togglePan","defaultTools","command","spacer","zoomInOut","fillMode","attributes","class","buttons","showText","component","componentOptions","enable","dataTextField","dataValueField","valuePrimitive","clearOnEscape","commandOn","togglable","selected","spacer2","exportAsTool","pagerTools","rounded","_keydown","_resizeHandler","onResize","plusShortcuts","NUMPAD_PLUS","minusShortcuts","NUMPAD_MINUS","zeroShortcuts","shouldExecute","_blankPage","execute","processingOptions","toolbarOptions","tools","_processTools","parentMessages","toolbarElement","appendTo","ToolBar","_toolbarClick","_updateToolbar","flatMap","t","zoomLevels","percent","comboOptions","concat","dataSource","p","isRtl","rtlDirection","pageOptions","toolbarEl","zoomCombo","toFocus","_getAllItems","isBlank","action","_updatePager","_updateOnBlank","_resetTabIndex","textBox","totalPagesSpan","_togglePagerDisabledClass","prevFirst","nextLast","isPredefined","val","_initErrorDialog","_errorDialog","dialogInstance","style","setProperty","pagesData","viewerPage","pageData","_attachContainerEvents","_getVisiblePagesCount","_resize","_resizePages","containerWidth","currentRatio","_wheel","activeElement","_scroll","_linkHandler","pageToLoadNum","pageNum","_preventScroll","nextPageIndex","wheelDelta","detail","preventComboBoxChange","commandOptions","parentNode","loadPage","minVisiblePageNum","maxVisiblePageNum","slice","promises","rootGroup","background","fromRect","color","forceProxy","proxyTarget","setOptions","unbindResize","off","toggleClass","_getTextLayers","plugin","kendo$1"],"sources":["kendo.pdfviewer.js"],"mappings":"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","sourcesContent":["import './kendo.mobile.scroller.js';\nimport './kendo.toolbar.js';\nimport './kendo.combobox.js';\nimport './kendo.textbox.js';\nimport './kendo.core.js';\nimport './kendo.drawing.js';\nimport './kendo.upload.js';\nimport './kendo.dialog.js';\nimport './kendo.window.js';\nimport './kendo.binder.js';\nimport './kendo.numerictextbox.js';\nimport './kendo.dropdownlist.js';\nimport './kendo.icons.js';\nimport './kendo.draganddrop.js';\n\nvar proxy = function (a, b) { return function (e) { return b(a(e)); }; };\n\nvar bind = function (el, event, callback) { return el.addEventListener && el.addEventListener(event, callback); };\n\nvar unbind = function (el, event, callback) { return el && el.removeEventListener && el.removeEventListener(event, callback); };\n\nvar noop = function () { /* empty */ };\n\nvar preventDefault = function (e) { return e.preventDefault(); };\n\nvar touchRegExp = /touch/;\n\n// 300ms is the usual mouse interval;\n// // However, an underpowered mobile device under a heavy load may queue mouse events for a longer period.\nvar IGNORE_MOUSE_TIMEOUT = 2000;\n\nfunction normalizeEvent(e) {\n    if (e.type.match(touchRegExp)) {\n        return {\n            pageX: e.changedTouches[0].pageX,\n            pageY: e.changedTouches[0].pageY,\n            clientX: e.changedTouches[0].clientX,\n            clientY: e.changedTouches[0].clientY,\n            type: e.type,\n            originalEvent: e,\n            isTouch: true\n        };\n    }\n\n    return {\n        pageX: e.pageX,\n        pageY: e.pageY,\n        clientX: e.clientX,\n        clientY: e.clientY,\n        offsetX: e.offsetX,\n        offsetY: e.offsetY,\n        type: e.type,\n        ctrlKey: e.ctrlKey,\n        shiftKey: e.shiftKey,\n        altKey: e.altKey,\n        originalEvent: e\n    };\n}\n\nvar Draggable = function Draggable(ref) {\n    var this$1$1 = this;\n    var press = ref.press; if ( press === void 0 ) press = noop;\n    var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n    var release = ref.release; if ( release === void 0 ) release = noop;\n    var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._ignoreMouse = false;\n    this._mouseOnly = mouseOnly;\n\n    this._touchstart = function (e) {\n        if (e.touches.length === 1) {\n            this$1$1._pressHandler(e);\n        }\n    };\n\n    this._touchmove = function (e) {\n        if (e.touches.length === 1) {\n            this$1$1._dragHandler(e);\n        }\n    };\n\n    this._touchend = function (e) {\n        // the last finger has been lifted, and the user is not doing gesture.\n        // there might be a better way to handle this.\n        if (e.touches.length === 0 && e.changedTouches.length === 1) {\n            this$1$1._releaseHandler(e);\n            this$1$1._ignoreMouse = true;\n            setTimeout(this$1$1._restoreMouse, IGNORE_MOUSE_TIMEOUT);\n        }\n    };\n\n    this._restoreMouse = function () {\n        this$1$1._ignoreMouse = false;\n    };\n\n    this._mousedown = function (e) {\n        var which = e.which;\n\n        if ((which && which > 1) || this$1$1._ignoreMouse) {\n            return;\n        }\n\n        bind(this$1$1.document, \"mousemove\", this$1$1._mousemove);\n        bind(this$1$1.document, \"mouseup\", this$1$1._mouseup);\n        this$1$1._pressHandler(e);\n    };\n\n    this._mousemove = function (e) {\n        this$1$1._dragHandler(e);\n    };\n\n    this._mouseup = function (e) {\n        unbind(this$1$1.document, \"mousemove\", this$1$1._mousemove);\n        unbind(this$1$1.document, \"mouseup\", this$1$1._mouseup);\n        this$1$1._releaseHandler(e);\n    };\n\n    this._pointerdown = function (e) {\n        if (e.isPrimary && e.button === 0) {\n            bind(this$1$1.document, \"pointermove\", this$1$1._pointermove);\n            bind(this$1$1.document, \"pointerup\", this$1$1._pointerup);\n            bind(this$1$1.document, \"pointercancel\", this$1$1._pointerup);\n            bind(this$1$1.document, \"contextmenu\", preventDefault);\n\n            this$1$1._pressHandler(e);\n        }\n    };\n\n    this._pointermove = function (e) {\n        if (e.isPrimary) {\n            this$1$1._dragHandler(e);\n        }\n    };\n\n    this._pointerup = function (e) {\n        if (e.isPrimary) {\n            unbind(this$1$1.document, \"pointermove\", this$1$1._pointermove);\n            unbind(this$1$1.document, \"pointerup\", this$1$1._pointerup);\n            unbind(this$1$1.document, \"pointercancel\", this$1$1._pointerup);\n            unbind(this$1$1.document, \"contextmenu\", preventDefault);\n\n            this$1$1._releaseHandler(e);\n        }\n    };\n};\n\nvar prototypeAccessors = { document: { configurable: true } };\n\nDraggable.supportPointerEvent = function supportPointerEvent () {\n    return (typeof window !== 'undefined') && window.PointerEvent;\n};\n\nprototypeAccessors.document.get = function () {\n    return this._element\n    ? this._element.ownerDocument\n    : document;\n};\n\nDraggable.prototype.bindTo = function bindTo (element) {\n    if (element === this._element) {\n        return;\n    }\n\n    if (this._element) {\n        this._unbindFromCurrent();\n    }\n\n    this._element = element;\n    this._bindToCurrent();\n};\n\nDraggable.prototype._bindToCurrent = function _bindToCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        bind(element, \"pointerdown\", this._pointerdown);\n        return;\n    }\n\n    bind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        bind(element, \"touchstart\", this._touchstart);\n        bind(element, \"touchmove\", this._touchmove);\n        bind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._unbindFromCurrent = function _unbindFromCurrent () {\n    var element = this._element;\n\n    if (this._usePointers()) {\n        unbind(element, \"pointerdown\", this._pointerdown);\n        unbind(this.document, \"pointermove\", this._pointermove);\n        unbind(this.document, \"pointerup\", this._pointerup);\n        unbind(this.document, \"contextmenu\", preventDefault);\n        unbind(this.document, \"pointercancel\", this._pointerup);\n        return;\n    }\n\n    unbind(element, \"mousedown\", this._mousedown);\n\n    if (!this._mouseOnly) {\n        unbind(element, \"touchstart\", this._touchstart);\n        unbind(element, \"touchmove\", this._touchmove);\n        unbind(element, \"touchend\", this._touchend);\n    }\n};\n\nDraggable.prototype._usePointers = function _usePointers () {\n    return !this._mouseOnly && Draggable.supportPointerEvent();\n};\n\nDraggable.prototype.update = function update (ref) {\n        var press = ref.press; if ( press === void 0 ) press = noop;\n        var drag = ref.drag; if ( drag === void 0 ) drag = noop;\n        var release = ref.release; if ( release === void 0 ) release = noop;\n        var mouseOnly = ref.mouseOnly; if ( mouseOnly === void 0 ) mouseOnly = false;\n\n    this._pressHandler = proxy(normalizeEvent, press);\n    this._dragHandler = proxy(normalizeEvent, drag);\n    this._releaseHandler = proxy(normalizeEvent, release);\n    this._mouseOnly = mouseOnly;\n};\n\nDraggable.prototype.destroy = function destroy () {\n    this._unbindFromCurrent();\n    this._element = null;\n};\n\nObject.defineProperties( Draggable.prototype, prototypeAccessors );\n\n// Re-export as \"default\" field to address a bug\n// where the ES Module is imported by CommonJS code.\n//\n// See https://github.com/telerik/kendo-angular/issues/1314\nDraggable.default = Draggable;\n\nvar __meta__$3 = {\n    id: \"pdfviewercommon\",\n    name: \"PdfViewerCommon\",\n    category: \"web\",\n    description: \"This is the common package for PdfViewer across all kendo flavours\",\n    depends: [\"core\"]\n};\n\n(function($, undefined$1) {\n    const throttle = function(func, wait, options = {}) {\n        let timeout, context, args, result;\n        let previous = 0;\n        const later = function() {\n            previous = options.leading === false ? 0 : new Date().getTime();\n            timeout = undefined$1;\n            result = func.apply(context, args);\n            if (!timeout) {\n                context = args = null;\n            }\n        };\n        const throttled = function() {\n            const now = new Date().getTime();\n            if (!previous && options.leading === false) {\n                previous = now;\n            }\n            const remaining = wait - (now - previous);\n            context = undefined$1; // this\n            args = arguments;\n            if (remaining <= 0 || remaining > wait) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = undefined$1;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout) {\n                    context = args = null;\n                }\n            }\n            else if (!timeout && options.trailing !== false) {\n                timeout = window.setTimeout(later, remaining);\n            }\n            return result;\n        };\n        return throttled;\n    };\n    const preventDefault = (e) => {\n        if (e.preventDefault) {\n            e.preventDefault();\n        }\n        if (e.originalEvent) {\n            e.originalEvent.preventDefault();\n        }\n    };\n    const matchesElementSelector = (element, selector) => {\n        if (!element || !selector) {\n            return false;\n        }\n        return element.closest(selector);\n    };\n    const FRAMES_PER_SECOND = 1000 / 60;\n    const SCROLL = 'scroll';\n    /**\n     * @hidden\n     */\n    class Scroller {\n        constructor(element, options) {\n            this.options = {\n                events: {\n                    [SCROLL]: () => undefined$1\n                },\n                filter: '',\n                // throttle the scroll events to get a more similar experience\n                // to the scrolling behavior in Adobe Acrobat Reader\n                // as well as allow a way to improve the scrolling performance for large files\n                panScrollThrottleDelay: FRAMES_PER_SECOND,\n                // the drag directions are actually reversed, e.g.\n                // dragging to the right actually moves the document to the left\n                scrollDirectionModifier: -1,\n                scrollThrottleDelay: FRAMES_PER_SECOND\n            };\n            this.onElementScroll = () => {\n                const element = this.element;\n                if (this.state.trackNextElementScroll) {\n                    this.scrollTo(element.scrollLeft, element.scrollTop);\n                }\n                else {\n                    // reset the state, so that consecutive scroll events can be handled\n                    this.state.trackNextElementScroll = true;\n                }\n            };\n            this.onDragStart = (e) => {\n                this.state.dragStarted = false;\n                if (!this.shouldTrackPanEvents()) {\n                    return;\n                }\n                const target = e.target || (e.originalEvent || {}).target;\n                if (this.options.filter &&\n                    !matchesElementSelector(target, this.options.filter)) {\n                    return;\n                }\n                preventDefault(e);\n                this.setState({\n                    dragStarted: true,\n                    location: {\n                        pageX: e.pageX,\n                        pageY: e.pageY\n                    },\n                    locationDelta: {\n                        x: 0,\n                        y: 0\n                    }\n                });\n            };\n            this.onDrag = (e) => {\n                if (!this.shouldTrackPanEvents() || !this.state.dragStarted) {\n                    return;\n                }\n                this.calculateEventLocationDelta(e);\n                this.setState({\n                    location: {\n                        pageX: e.pageX,\n                        pageY: e.pageY\n                    }\n                });\n                const directionModifier = this.options.scrollDirectionModifier;\n                const scrollLeft = this.element.scrollLeft +\n                    directionModifier * this.state.locationDelta.x;\n                const scrollTop = this.element.scrollTop +\n                    directionModifier * this.state.locationDelta.y;\n                this.scrollTo(scrollLeft, scrollTop);\n            };\n            this.onDragEnd = () => {\n                if (!this.shouldTrackPanEvents()) {\n                    return;\n                }\n            };\n            this.element = element;\n            this.options = Object.assign({}, this.options, options);\n            this.resetState();\n            this.bindEvents();\n        }\n        destroy() {\n            this.unbindEvents();\n        }\n        initDraggable() {\n            this.destroyDraggable();\n            if (this.options.panScrollThrottleDelay > 0) {\n                this.throttledOnDrag = throttle(this.onDrag, this.options.panScrollThrottleDelay);\n            }\n            else {\n                this.throttledOnDrag = this.onDrag;\n            }\n            this.draggable = new Draggable({\n                mouseOnly: false,\n                press: this.onDragStart,\n                drag: this.throttledOnDrag,\n                release: this.onDragEnd\n            });\n            this.draggable.bindTo(this.element);\n        }\n        destroyDraggable() {\n            if (this.draggable && this.draggable.destroy) {\n                this.draggable.destroy();\n                if (this.throttledOnDrag && this.throttledOnDrag.cancel) {\n                    this.throttledOnDrag.cancel();\n                    this.throttledOnDrag = null;\n                }\n            }\n        }\n        bindEvents() {\n            this.bindDraggableEvents();\n            this.bindElementScroll();\n        }\n        bindDraggableEvents() {\n            this.initDraggable();\n        }\n        bindElementScroll() {\n            if (this.options.scrollThrottleDelay > 0) {\n                this.throttledOnElementScroll = throttle(this.onElementScroll, this.options.scrollThrottleDelay);\n            }\n            else {\n                this.throttledOnElementScroll = this.onElementScroll;\n            }\n            this.element.addEventListener(SCROLL, this.throttledOnElementScroll);\n        }\n        unbindEvents() {\n            this.unbindElementScroll();\n            this.unbindDraggableEvents();\n        }\n        unbindDraggableEvents() {\n            this.destroyDraggable();\n        }\n        unbindElementScroll() {\n            if (this.throttledOnElementScroll &&\n                this.throttledOnElementScroll.cancel) {\n                this.throttledOnElementScroll.cancel();\n                this.throttledOnElementScroll = null;\n            }\n            this.element.removeEventListener(SCROLL, this.throttledOnElementScroll);\n        }\n        setState(newState) {\n            this.state = Object.assign({}, this.state || {}, newState);\n        }\n        resetState() {\n            this.setState({\n                trackPanEvents: false,\n                trackNextElementScroll: false,\n                location: { pageX: 0, pageY: 0 },\n                locationDelta: { x: 0, y: 0 }\n            });\n        }\n        enablePanEventsTracking() {\n            this.state.trackPanEvents = true;\n            this.bindDraggableEvents();\n        }\n        disablePanEventsTracking() {\n            this.unbindDraggableEvents();\n            this.state.trackPanEvents = false;\n        }\n        shouldTrackPanEvents() {\n            return this.state.trackPanEvents;\n        }\n        calculateEventLocationDelta(e) {\n            this.state.locationDelta = {\n                x: e.pageX - this.state.location.pageX,\n                y: e.pageY - this.state.location.pageY\n            };\n        }\n        scrollTo(x, y, options = { trackScrollEvent: true }) {\n            if (!options.trackScrollEvent) {\n                this.state.trackNextElementScroll = false;\n            }\n            this.element.scrollLeft = x;\n            this.element.scrollTop = y;\n        }\n    }\n\n    /**\n     * A function which gives you the page number of the document according to the scroll position.\n     *\n     * @param rootElement The root HTML element of the PDFViewer component.\n     * @returns The page number.\n     */\n    const currentPage = (rootElement) => {\n        const scrollElement = rootElement.querySelector(\n            '.k-pdf-viewer-canvas'\n        );\n        const page = rootElement.querySelector('.k-page');\n\n        return scrollElement && page\n            ? Math.floor(\n                Math.round(scrollElement.scrollTop) /\n                (page.offsetHeight + page.offsetTop) +\n                0.01\n            )\n            : 0;\n    };\n\n    const scrollToPage = (\n        rootElement,\n        pageNumber\n    ) => {\n        const pages = rootElement.querySelectorAll('.k-page');\n        const page = pages[0];\n        if (page instanceof HTMLDivElement) {\n            const top =\n                (page.offsetHeight + page.offsetTop) *\n                Math.max(0, Math.min(pageNumber, pages.length - 1));\n            const scrollElement = page.closest('.k-pdf-viewer-canvas');\n            if (scrollElement) {\n                scrollElement.scrollTo({ top, behavior: 'auto' });\n            }\n        }\n    };\n\n    const searchMatchScrollLeftOffset = 0;\n    const searchMatchScrollTopOffset = -64;\n\n    const scrollToSearchMatch = (matchElement, scroller) => {\n        if (!matchElement) {\n            return;\n        }\n\n        const closestCharElement = matchElement.closest('.k-text-char');\n        const closestTextElement = closestCharElement\n            ? closestCharElement.closest('span[role=\"presentation\"]')\n            : null;\n\n        if (!closestTextElement) {\n            return;\n        }\n\n        const closestPageElement =\n            closestTextElement.closest('.k-page');\n\n        if (!closestPageElement) {\n            return;\n        }\n\n        const scrollLeft =\n            closestPageElement.offsetLeft +\n            -1 * scroller.element.offsetLeft +\n            closestTextElement.offsetLeft +\n            searchMatchScrollLeftOffset;\n\n        const scrollTop =\n            closestPageElement.offsetTop +\n            -1 * scroller.element.offsetTop +\n            closestTextElement.offsetTop +\n            searchMatchScrollTopOffset;\n\n        scroller.scrollTo(scrollLeft, scrollTop, { trackScrollEvent: false });\n    };\n\n    kendo.ui.PdfViewerCommon = { Scroller, currentPage, scrollToPage, scrollToSearchMatch };\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var extend = $.extend;\n    var isLoaded = function() {\n        if (!window.pdfjsLib)\n        {\n            var console = window.console;\n\n            if (console && console.error) {\n                console.error(\"PDF.JS required.\");\n            }\n\n            return false;\n        }\n\n        kendo.pdfviewer.pdfjs.lib = window.pdfjsLib;\n\n        return true;\n    };\n\n    extend(kendo, {\n        pdfviewer: {\n            pdfjs: {\n                lib: window.pdfjsLib,\n                isLoaded: isLoaded\n            }\n        }\n    });\n})(window.kendo.jQuery);\n\nvar __meta__$2 = {\n    id: \"pdfjs-processor\",\n    name: \"PDFJS-Processor\",\n    category: \"framework\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        Class = kendo.Class,\n        extend = $.extend,\n        atob = window.atob,\n        PDFJS;\n\n    var PDFJSProcessor = Class.extend({\n        init: function(options, viewer) {\n            var that = this;\n\n            if (kendo.pdfviewer.pdfjs.isLoaded()) {\n                PDFJS = kendo.pdfviewer.pdfjs.lib;\n            }\n\n            that.file = options.file;\n            that.viewer = viewer;\n        },\n        fetchDocument: function() {\n            var that = this,\n                deferred = $.Deferred(),\n                messages = that.viewer.options.messages.errorMessages;\n\n            if (!that.file) {\n                return deferred.resolve();\n            }\n\n            if (that._isBase64Data() && atob)\n            {\n                that.file.data = atob(that.file.data);\n            }\n\n            PDFJS.getDocument(this.file).promise.then(function(pdf) {\n                var pageSizes = [];\n                that.pdf = pdf;\n                that.pagePromises = [];\n                that._downloadData = $.Deferred();\n\n                pdf.getData().then(function(data) {\n                    var blob = new Blob([data], { type: 'application/pdf' });\n                    that._downloadData.resolve({\n                        file: blob\n                    });\n                });\n\n                for (var i = 1; i <= pdf.numPages; i++) {\n                    that.pagePromises.push(pdf.getPage(i));\n                }\n\n                Promise.all(that.pagePromises).then(function(pagePromises) {\n                    pageSizes = pagePromises.map(function(pagePromise) {\n                        var viewport = pagePromise.getViewport({ scale: 4 / 3 });\n                        return {\n                            width: viewport.width,\n                            height: viewport.height\n                        };\n                    });\n\n                    deferred.resolve({\n                        total: pdf.numPages,\n                        pages: pageSizes\n                    });\n                }).catch(function(e) {\n                    that.viewer._triggerError({\n                        error: e.message,\n                        message: messages.parseError\n                    });\n                });\n\n            }).catch(function(e) {\n                var notFoundError = e.name.includes(\"Missing\");\n                var alertMessage = notFoundError ? messages.notFound : messages.parseError;\n                that.viewer._triggerError({\n                    error: e.message,\n                    message: alertMessage\n                });\n                if (notFoundError) {\n                    that.viewer._renderBlankPage();\n                }\n            });\n\n            return deferred;\n        },\n        fetchPageData: function(number) {\n            return this.pagePromises[number - 1];\n        },\n        downloadFile: function(fileName) {\n            var that = this;\n            kendo.ui.progress(that.viewer.pageContainer, true);\n\n            that._downloadData.done(function(result) {\n                kendo.ui.progress(that.viewer.pageContainer, false);\n\n                var reader = new FileReader();\n                reader.readAsDataURL(result.file);\n\n                reader.onload = function() {\n                    kendo.saveAs({\n                        dataURI: reader.result,\n                        fileName: fileName + \".pdf\",\n                        proxyURL: function() {\n                            return reader.result;\n                        }\n                    });\n                };\n            });\n        },\n        navigateToDestination: function(dest) {\n            var that = this;\n            var dest = dest.split(\"#\")[1];\n\n            try {\n                dest = JSON.parse(decodeURI(dest));\n            } catch (error) {\n                dest = decodeURI(dest);\n            }\n\n            if (kendo.isString(dest)) {\n                that.pdf.getDestination(dest).then(function(explicitDest) {\n                    that._navigateToDest(explicitDest);\n                });\n            } else if (dest) {\n                that._navigateToDest(dest);\n            }\n        },\n        _navigateToDest: function(explicitDest) {\n            var that = this,\n                pageNumber = explicitDest[0],\n                zoom = explicitDest[4] || that.viewer.options.zoom;\n\n            that.pdf.getPageIndex(pageNumber)\n                .then(pageIndex => {\n                    that.viewer.activatePage(pageIndex + 1);\n                    that.viewer.zoom(`${zoom * 100}%`);\n                });\n        },\n        _updateDocument: function(file) {\n            if (this.pdf && this.pdf.loadingTask) {\n                this.pdf.loadingTask.destroy();\n            }\n\n            this.file = file;\n        },\n        _isBase64Data: function() {\n            var data = this.file.data,\n                notBase64 = /[^A-Z0-9+\\/=]/i,\n                length = data && data.length,\n                equalSign;\n\n            if (!length || length % 4 !== 0 || notBase64.test(data)) {\n                return false;\n            }\n\n            equalSign = data.indexOf('=');\n\n            return equalSign === -1 ||\n                equalSign === length - 1 ||\n                (equalSign === length - 2 && data[length - 1] === '=');\n        },\n        renderTextLayer: function(params) {\n            PDFJS.renderTextLayer(params);\n        }\n    });\n\n    extend(kendo.pdfviewer.pdfjs, {\n        processor: PDFJSProcessor\n    });\n})(window.kendo.jQuery);\n\nvar __meta__$1 = {\n    id: \"dpl-processor\",\n    name: \"DPL-Processor\",\n    category: \"framework\",\n    depends: [ \"core\" ]\n};\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        Class = kendo.Class;\n\n    var DPLProcessor = Class.extend({\n        init: function(options, viewer) {\n            var that = this;\n\n            that.options = options;\n            that.read = options.read;\n            that.upload = options.upload;\n            that.download = options.download;\n\n            that.viewer = viewer;\n        },\n        fetchDocument: function() {\n            var that = this,\n                deferred = $.Deferred(),\n                errorMessages = that.viewer.options.messages.errorMessages;\n\n            if (!that.read) {\n                return deferred.resolve();\n            }\n\n            $.ajax({\n                type: that.read.type,\n                url: that.read.url,\n                dataType: that.read.dataType,\n                success: function(data) {\n                    if (typeof data != \"string\") {\n                        data = kendo.stringify(data);\n                    }\n                    deferred.resolve(JSON.parse(data));\n                },\n                error: function(xhr) {\n                    that.viewer._triggerError({\n                        error: xhr.responseText,\n                        message: errorMessages.parseError\n                    });\n                }\n            });\n\n            return deferred;\n        },\n        fetchPageData: function(number) {\n            var that = this;\n            var deferred = $.Deferred();\n            var page = that.viewer.document.pages[number - 1];\n            var data = {};\n            data[that.read.pageField] = number;\n\n            if (!page.geometries.length) {\n                $.ajax({\n                    type: that.read.type,\n                    url: that.read.url,\n                    data: data,\n                    success: function(data) {\n                        deferred.resolve(JSON.parse(data));\n                    },\n                    error: function(xhr) {\n                        that.viewer._triggerError({\n                            error: xhr.responseText,\n                            message: that.viewer.options.messages.errorMessages.parseError\n                        });\n                    }\n                });\n            } else {\n                deferred.resolve(page);\n            }\n\n            return deferred;\n        },\n        downloadFile: function(fileName) {\n            window.location = this.download.url + \"?file=\" + fileName;\n        },\n\n        fromJSON: function(json)\n        {\n            var viewer = this.viewer;\n            viewer._clearPages();\n\n            viewer.document = json;\n            viewer.document.total = viewer.document.pages.length;\n\n            viewer._renderPages();\n            viewer.resize(true);\n\n            viewer.activatePage(1);\n        }\n    });\n\n    extend(kendo.pdfviewer, {\n        dpl: {\n            processor: DPLProcessor\n        }\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var Class = kendo.Class,\n        extend = $.extend,\n        parseJSON = JSON.parse,\n        progress = kendo.ui.progress,\n        Class = kendo.Class,\n        OPEN = \"open\";\n\n    var UploadHelper = Class.extend({\n        init: function(viewer) {\n            this.viewer = viewer;\n            this.errorMessages = this.viewer.options.messages.errorMessages;\n            this.upload = this.viewer.processor.upload;\n        },\n        _initUpload: function(uploadElement, extendUploadOptions) {\n            var uploadOptions = extend({\n                select: this._onSelect.bind(this),\n                success: this._onSuccess.bind(this),\n                error: this._onError.bind(this),\n                complete: this._onComplete.bind(this),\n                showFileList: false,\n                multiple: false,\n                validation: {\n                    allowedExtensions: [\".pdf\"]\n                }\n            }, extendUploadOptions || {});\n\n            if (this.upload) {\n                extend(uploadOptions, {\n                    async: {\n                        saveUrl: this.upload.url,\n                        autoUpload: true,\n                        saveField: this.upload.saveField\n                    }\n                });\n            }\n\n            var upload = (uploadElement || $('<input name=\"files\" accept=\".pdf\" type=\"file\" />')).kendoUpload(uploadOptions).getKendoUpload();\n\n            return upload;\n        },\n        _onComplete: function() {\n            progress(this.viewer.pageContainer, false);\n        },\n        _onSuccess: function(e) {\n            var json = parseJSON(e.response);\n\n            if ($.isPlainObject(json)) {\n                this.viewer.processor.fromJSON(json);\n            }\n            else {\n                this.viewer._triggerError({\n                    error: json,\n                    message: this.errorMessages.parseError\n                });\n            }\n        },\n        _onError: function(e) {\n            this.viewer._triggerError({\n                error: e.XMLHttpRequest.responseText,\n                message: this.errorMessages.notSupported\n            });\n        },\n        _onSelect: function(e) {\n            var that = this;\n            var fileToUpload = e.files[0];\n\n            progress(that.viewer.pageContainer, true);\n\n            if (that.viewer.trigger(OPEN, { file: fileToUpload }) || that.upload) {\n                return;\n            } else if (fileToUpload.extension.toLowerCase() !== \".pdf\") {\n                that.viewer._triggerError({\n                    error: fileToUpload,\n                    message: that.errorMessages.notSupported\n                });\n                return;\n            }\n\n            var reader = new FileReader();\n            reader.onload = function(e) {\n                var document = e.target.result;\n                that.viewer.fromFile(document);\n            };\n            reader.onerror = function() {\n                that.viewer._triggerError({\n                    error: fileToUpload,\n                    message: that.errorMessages.parseError\n                });\n            };\n\n            reader.readAsArrayBuffer(fileToUpload.rawFile);\n        }\n    });\n\n    extend(kendo.pdfviewer, {\n        UploadHelper: UploadHelper\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var extend = $.extend,\n        noop = $.noop,\n        drawing = kendo.drawing,\n        Group = drawing.Group,\n        Surface = drawing.Surface,\n        RENDER = \"render\",\n        Class = kendo.Class,\n        UploadHelper = kendo.pdfviewer.UploadHelper,\n\n        DEFAULT_DPR = 2;\n\n    var geometryTypes = {\n        Path: \"path\",\n        MultiPath: \"multipath\",\n        Rect: \"rect\",\n        Image: \"image\",\n        Text: \"text\"\n    };\n\n    var BLANK_PAGE_TEMPLATE = (dropzoneId) => `<div class=\"k-page k-blank-page\">\n        <div id=\"${dropzoneId}\" class=\"k-external-dropzone\">\n            <div class=\"k-dropzone-inner\">\n                <span class=\"k-dropzone-icon k-svg-icon k-icon-xxxl k-svg-i-upload\">\n                    <svg aria-hidden=\"true\" focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n                        <path d=\"M32 384v96h448v-96H32zm192-64h64V192h96L256 32 128 192h96v128z\"></path>\n                    </svg>\n                </span>\n                <span class=\"k-dropzone-hint\">Drag and drop files here to upload</span>\n            </div>\n        </div>\n        <input name=\"files\" accept=\".pdf\" type=\"file\" ref-pdfviewer-blank-page-upload>\n    </div>`;\n\n    var Page = Class.extend({\n        init: function(options, viewer) {\n            this.viewer = viewer;\n            this.processor = options.processor;\n            this.options = options;\n            this.pageNumber = options.number;\n\n            this.element = $(\"<div class='k-page' />\");\n            this.element.attr(kendo.attr(\"number\"), this.pageNumber);\n\n            this._updatePageSize(options);\n            this.width = options.width;\n            this.height = options.height;\n        },\n        resize: function(ratio) {\n            var pageElement = this.element;\n\n            this._updatePageSize({\n                width: Math.min(pageElement.width() * ratio, this.width),\n                height: Math.min(pageElement.height() * ratio, this.height)\n            });\n        },\n        _updatePageSize: function(size) {\n            this.element\n                    .width(size.width)\n                    .height(size.height);\n        },\n        destroy: function() {\n            kendo.destroy(this.element);\n        },\n        render: noop\n    });\n\n    var BlankPage = Page.extend({\n        init: function(options, viewer) {\n            this.viewer = viewer;\n            this.options = options;\n            this._externalDropZoneId = `${viewer.element.attr(\"id\")}-external-dropzone`;\n            this.element = $(BLANK_PAGE_TEMPLATE(this._externalDropZoneId));\n            this._uploadHelper = new UploadHelper(viewer);\n        },\n        _initUpload: function() {\n            this._upload = this._uploadHelper._initUpload(this.element.find(\"input[ref-pdfviewer-blank-page-upload]\"), {\n                dropZone: `#${this._externalDropZoneId}`,\n                showFileList: false,\n                async: {\n                    autoUpload: false,\n                    saveUrl: \"save\"\n                }\n            });\n        },\n        resize: noop,\n        _updatePageSize: noop,\n        destroy: function() {\n            if (this._upload) {\n                this._upload.destroy();\n            }\n\n            kendo.destroy(this.element);\n        },\n        render: noop\n    });\n\n    var DPLPage = Page.extend({\n        draw: function() {\n            var that = this,\n                geometries = that.options.geometries;\n\n            that.group = new Group();\n            that.surface.draw(that.group);\n\n            that._drawGeometries(geometries);\n\n            that.viewer.trigger(RENDER, { page: this });\n            kendo.ui.progress(that.element, false);\n        },\n        load: function() {\n            var that = this;\n\n            if (that.loaded || !that.processor)\n            {\n                return;\n            }\n\n            that.processor.fetchPageData(that.pageNumber).then(function(data) {\n                that.options = data;\n                that._initSurface();\n                that.draw();\n            });\n\n            that.loaded = true;\n        },\n        _initSurface: function() {\n            var size = {\n                width: this.element.width(),\n                height: this.element.height()\n            };\n            var surfaceOptions = extend({ width: this.width, height: this.height }, this.viewer.options.view);\n            this.surface = new Surface(this.element, surfaceOptions);\n            this._updatePageSize(size);\n        },\n        _drawGeometries: function(geometries) {\n            var that = this,\n                kGeometry;\n\n            if (!geometries) {\n                return;\n            }\n\n            for (var i = 0; i <= geometries.length; i++) {\n                var geometry = geometries[i];\n\n                if (!geometry) {\n                    continue;\n                }\n\n                switch (geometry.type) {\n                    case geometryTypes.Path:\n                    case geometryTypes.MultiPath:\n                        kGeometry = that._drawPath(geometry);\n                        break;\n                    case geometryTypes.Rect:\n                        kGeometry = that._drawRect(geometry);\n                        break;\n                    case geometryTypes.Image:\n                        kGeometry = that._drawImage(geometry);\n                        break;\n                    case geometryTypes.Text:\n                        kGeometry = that._drawText(geometry);\n                        break;\n                    default:\n                        kGeometry = null;\n                        break;\n                }\n\n                if (kGeometry)\n                {\n                    that.group.append(kGeometry);\n                }\n            }\n        },\n        _drawRect: function(geometry)\n        {\n            var rectGeo = new kendo.geometry.Rect(geometry.point, geometry.size);\n\n            return new drawing.Rect(rectGeo, {\n                transform: this._getMatrix(geometry.transform),\n                fill: geometry.fillOptions,\n                stroke: geometry.strokeOptions\n            });\n        },\n\n        _drawImage: function(geometry)\n        {\n            var imageRect = new kendo.geometry.Rect(geometry.point, geometry.size);\n            return new drawing.Image(geometry.src, imageRect, {\n                transform: this._getMatrix(geometry.transform)\n            });\n        },\n\n        _drawText: function(geometry)\n        {\n            var options = {\n                transform: this._getMatrix(geometry.transform),\n                stroke: geometry.strokeOptions,\n                fill: geometry.fillOptions,\n                font: geometry.font\n            };\n            return new kendo.drawing.Text(geometry.content, geometry.point, options);\n        },\n\n        _drawPath: function(geometry)\n        {\n            var options = {\n                transform: this._getMatrix(geometry.transform),\n                stroke: geometry.strokeOptions,\n                fill: geometry.fillOptions\n            };\n            var path = new drawing.MultiPath(options);\n\n            for (var i = 0; i < geometry.paths.length; i++) {\n                var subPath = geometry.paths[i];\n\n                if (!subPath.segments)\n                {\n                    return;\n                }\n\n                path.moveTo.apply(path, subPath.point);\n\n                for (var j = 0; j < subPath.segments.length; j++) {\n                    var segment = subPath.segments[j];\n                    var drawAction = segment.points.length === 1 ? path.lineTo : path.curveTo;\n                    drawAction.apply(path, segment.points);\n                }\n\n                if (subPath.closed) {\n                    path.close();\n                }\n            }\n\n            return path;\n        },\n\n        _getMatrix: function(transform) {\n            var matrix = Object.create(kendo.geometry.Matrix.prototype);\n            kendo.geometry.Matrix.apply(matrix, transform);\n            return matrix;\n        }\n    });\n\n    var PDFJSPage = Page.extend({\n        init: function(options, viewer) {\n            var that = this,\n                canvas;\n\n            canvas = $(\"<canvas />\").css({\n                width: \"100%\",\n                height: \"100%\"\n            });\n            that.canvas = canvas.get(0);\n\n            Page.fn.init.call(that, options, viewer);\n            that.canvas.width = that.width;\n            that.canvas.height = that.height;\n\n            that.element.append(canvas);\n        },\n        load: function(defaultScale, force) {\n            var that = this,\n                promise = $.Deferred();\n\n            if (that._scale === defaultScale && !force)\n            {\n                return;\n            } else if (that._scale && that._scale !== defaultScale && !force)\n            {\n                that._scale = defaultScale;\n                that.render(defaultScale);\n                return promise.resolve(that);\n            }\n\n            if (that.processor) {\n                that.processor.fetchPageData(that.pageNumber).then(function(page) {\n                    that._page = page;\n                    that._renderPromise = that.render(defaultScale).then(function() {\n                        that.viewer.trigger(RENDER, { page: that });\n                    });\n                    promise.resolve(that);\n                });\n            }\n\n            that._scale = defaultScale;\n            that.loaded = true;\n            return promise;\n        },\n        render: function(scale) {\n            var that = this;\n            var dpr = window.devicePixelRatio >= DEFAULT_DPR ? window.devicePixelRatio : DEFAULT_DPR;\n            var context = this.canvas.getContext('2d'),\n                viewport = this._page.getViewport({\n                    scale: scale\n                });\n\n            this.canvas.width = viewport.width * dpr;\n            this.canvas.height = viewport.height * dpr;\n            context.scale(dpr, dpr);\n\n            this._scale = scale;\n            this._dpr = dpr;\n\n            if (this._renderTask)\n            {\n                this._renderTask.cancel();\n                this._renderTask = null;\n            }\n\n            this._updatePageSize({\n                width: viewport.width,\n                height: viewport.height\n            });\n\n            this._renderTask = this._page.render({\n                canvasContext: context,\n                viewport: viewport\n            });\n\n            this._renderTextLayer(viewport);\n\n            return this._renderTask.promise.then(function() {\n                that._renderTask = null;\n            }).catch(function() {});\n        },\n        _renderTextLayer: function(viewport) {\n            var that = this;\n            var page = that._page;\n\n            if (that.textLayer) {\n                that.textLayer.remove();\n            }\n\n            that.textLayer = $(\"<div class='k-text-layer'></div>\").get(0);\n            that.element.append(that.textLayer);\n\n            page.getTextContent({\n                normalizeWhitespace: true\n            }).then(function(textContent) {\n                $(that.textLayer).css({\n                  height: viewport.height,\n                  width: viewport.width\n                }).html(\"\"); // Clear content to make sure that refreshing the page will not cause duplication of the text content.\n\n                var params = {\n                    textContent: textContent,\n                    container: that.textLayer,\n                    viewport: viewport,\n                    textDivs: [],\n                    enhanceTextSelection: true\n                };\n\n\n                that.processor.renderTextLayer(params);\n                that._renderAnnotationLayer(viewport);\n            });\n        },\n        _renderAnnotationLayer: function(viewport) {\n            var that = this,\n                page = that._page;\n\n            if (that.annotationLayer) {\n                that.annotationLayer.remove();\n            }\n\n            that.annotationLayer = $(\"<div class='k-annotation-layer'></div>\").css({\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                overflow: 'hidden',\n                height: that.element.height(),\n                width: that.element.width(),\n                pointerEvents: 'none',\n            });\n\n            that.element.append(that.annotationLayer);\n\n            page.getAnnotations({ intent: \"display\" }).then(function(annotations) {\n                var links = annotations.map(function(annotation) {\n                    if (annotation.subtype === 'Link') {\n                        var rect = annotation.rect;\n                        var boundingRect = [\n                            viewport.convertToViewportPoint(rect[0], rect[1]),\n                            viewport.convertToViewportPoint(rect[2], rect[3]),\n                        ];\n\n                        var left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n                        var top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n                        var width = Math.max(boundingRect[0][0], boundingRect[1][0]) - left;\n                        var height = Math.max(boundingRect[0][1], boundingRect[1][1]) - top;\n\n                        var url = annotation.url || (annotation.dest && `#${ kendo.isString(annotation.dest) ? encodeURI(annotation.dest) : encodeURI(JSON.stringify(annotation.dest)) }`);\n\n                        return { url: url, rect: { left, top, width, height } };\n                    }\n                });\n\n                links.forEach(function(link) {\n                    var span = $(\"<span></span>\").css({\n                        position: 'absolute',\n                        left: link.rect.left,\n                        top: link.rect.top,\n                    }).append($(`<a ${link.url ? `href=${link.url}` : ''}></a>`).css({\n                        width: link.rect.width,\n                        height: link.rect.height,\n                        display: 'inline-block',\n                        pointerEvents: 'auto',\n                    }));\n\n                    that.annotationLayer.append(span);\n                });\n            });\n        },\n    });\n\n    extend(kendo.pdfviewer.dpl, {\n        geometryTypes: geometryTypes,\n        Page: DPLPage\n    });\n    extend(kendo.pdfviewer.pdfjs, {\n        Page: PDFJSPage\n    });\n    extend(kendo.pdfviewer, {\n        BlankPage: BlankPage\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var Class = kendo.Class,\n        extend = $.extend,\n        SEARCH_HIGHLIGHT_MARK_CLASS = \"k-search-highlight-mark\",\n        isArray = Array.isArray;\n\n    var SearchDOM = Class.extend({\n        init: function(options) {\n            var that = this;\n\n            that.options = extend({}, that.options, options);\n\n            that.processDom();\n        },\n\n        options: {\n            highlightClass: \"k-search-highlight\",\n            charClass: \"k-text-char\"\n        },\n\n        processDom: function() {\n            var that = this;\n\n            that.targets = isArray(that.options.target) ? that.options.target : [that.options.target];\n            that.textNodes = [];\n            that.charIndex = 0;\n            that.text = \"\";\n\n            that.targets.forEach(function(target) {\n                that.traverseToTextNode(target);\n            });\n\n            for (var i = 0; i < that.textNodes.length; i++) {\n                that.processTextNode(that.textNodes[i]);\n            }\n        },\n\n        traverseToTextNode: function(node) {\n            var that = this;\n\n            if (node.nodeType === 3) {\n                that.textNodes.push(node);\n            } else {\n                for (var i = 0; i < node.childNodes.length; i++) {\n                    that.traverseToTextNode(node.childNodes[i]);\n                }\n            }\n        },\n\n        processTextNode: function(node) {\n            var that = this;\n            var text = node.textContent;\n            var span;\n\n            that.text = that.text + text;\n\n            if (text.length > 0) {\n                span = $(node).wrap(\"<span>\").parent();\n                span.parent().attr(\"role\", \"presentation\");\n                span.empty();\n                that.splitChars(span.get(0), text);\n                span.children().unwrap();\n            }\n        },\n\n        splitChars: function(span, text) {\n            var that = this;\n            var newHtml = \"\";\n\n            for (var i = 0; i < text.length; i++) {\n                newHtml = newHtml + \"<span class='\" + that.options.charClass + \"' \" + kendo.attr(\"char-index\") + \"=\" + that.charIndex + \">\" + text[i] + \"</span>\";\n                that.charIndex++;\n            }\n\n            span.innerHTML = newHtml;\n        },\n\n        search: function(value, matchCase) {\n            var that = this;\n            var expression = new RegExp(value, !matchCase ? \"gi\" : \"g\");\n            var match;\n\n            that.matches = [];\n\n            that.resetMark();\n            that.resetHighlight();\n            that.resetMatchIndex();\n\n            if (value === \"\") {\n                return;\n            }\n\n            match = expression.exec(that.text);\n\n            while (match) {\n                that.matches.push({\n                    startOffset: match.index,\n                    endOffset: match.index + match[0].length\n                });\n\n                match = expression.exec(that.text);\n            }\n\n            that.highlightAll();\n            that.mark();\n        },\n\n        highlightAll: function() {\n            var that = this;\n\n            that.matches.forEach(function(match, index) {\n                var start = match.startOffset;\n                var end = match.endOffset;\n\n                that.highlight(start, end, index + 1);\n            });\n        },\n\n        highlight: function(start, end, matchIndex) {\n            var that = this;\n\n            for (var i = start; i < end; i++) {\n                $(that.targets)\n                    .find(\".\" + that.options.charClass + \"[\" + kendo.attr(\"char-index\") + \"=\" + i + \"]\")\n                    .addClass(that.options.highlightClass)\n                    .attr(kendo.attr(\"match-index\"), matchIndex);\n            }\n        },\n\n        resetHighlight: function() {\n            var that = this;\n\n            $(that.targets)\n                .find(\".\" + that.options.highlightClass)\n                .removeClass(that.options.highlightClass);\n        },\n\n        resetMatchIndex: function() {\n            var that = this;\n\n            $(that.targets)\n                .find(\".\" + that.options.charClass + \"[\" + kendo.attr(\"match-index\") + \"]\")\n                .removeAttr(kendo.attr(\"match-index\"));\n        },\n\n        mark: function() {\n            var that = this;\n\n            if (!that.currentIndex && that.currentIndex !== 0) {\n                that.currentIndex = 0;\n            } else if (that.currentIndex > that.matches.length) {\n                that.currentIndex = that.matches.length;\n            } else {\n                that.resetMark();\n            }\n\n            $(that.targets)\n                .find(\".\" + that.options.charClass + \"[\" + kendo.attr(\"match-index\") + \"=\" + that.currentIndex + \"]\")\n                .wrapInner(`<span class=\"${SEARCH_HIGHLIGHT_MARK_CLASS}\">`);\n        },\n\n        resetMark: function() {\n            var that = this;\n            $(that.targets).find(\".\" + SEARCH_HIGHLIGHT_MARK_CLASS).contents().unwrap();\n        },\n\n        nextMatch: function() {\n            var that = this;\n\n            that.currentIndex++;\n\n            if (that.currentIndex > that.matches.length) {\n                that.currentIndex = 1;\n            }\n\n            that.mark();\n        },\n\n        previousMatch: function() {\n            var that = this;\n\n            that.currentIndex--;\n\n            if (that.currentIndex < 1) {\n                that.currentIndex = that.matches.length;\n            }\n\n            that.mark();\n        },\n\n        getMarkedIndex: function() {\n            return this.matches.length ? this.currentIndex : 0;\n        },\n\n        getFirstMarked: function() {\n            return $(this.targets).find(\".\" + SEARCH_HIGHLIGHT_MARK_CLASS).eq(0);\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.resetMark();\n            $(that.targets).children(\"span:not(.\" + that.options.charClass + \")\").each(function(i, item) {\n                $(item).text($(item).text());\n            });\n        }\n    });\n\n    extend(kendo.pdfviewer, {\n        SearchDOM: SearchDOM\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        encode = kendo.htmlEncode,\n        extend = $.extend,\n        Class = kendo.Class,\n        Draggable = kendo.ui.Draggable,\n        outerWidth = kendo._outerWidth,\n        EXTENSIONS = {\n            svg: \".svg\",\n            png: \".png\"\n        },\n        keys = kendo.keys;\n\n    var ErrorDialog = Class.extend({\n        init: function(options) {\n            this.options = extend(options, {\n                actions: [{\n                    text: options.messages.dialogs.okText\n                }]\n            });\n            this._dialog = $(\"<div />\")\n                    .kendoDialog(this.options)\n                    .getKendoDialog();\n        },\n        open: function() {\n            this._dialog.center().open();\n        }\n    });\n\n    var ExportAsDialog = Class.extend({\n        init: function(options) {\n            this.options = extend(options, this.options, {\n                fileFormats: [{\n                    description: options.messages.dialogs.exportAsDialog.png,\n                    extension: EXTENSIONS.png\n                }, {\n                    description: options.messages.dialogs.exportAsDialog.svg,\n                    extension: EXTENSIONS.svg\n                }],\n                title: options.messages.dialogs.exportAsDialog.title,\n                open: function() {\n                    this.center();\n                }\n            });\n            this._initializeDialog();\n            return this;\n        },\n        options: {\n            extension: EXTENSIONS.png,\n            autoFocus: true,\n            resizable: false,\n            modal: {\n                preventScroll: true\n            },\n            width: \"90%\",\n            maxWidth: 520,\n            template: ({ messages, total }) =>\n                `<div class='k-edit-label'><label>${encode(messages.exportAsDialog.labels.fileName)}:</label></div>` +\n                \"<div class='k-edit-field'>\" +\n                    \"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input class='k-input-inner' data-bind='value: name' /></span>\" +\n                \"</div>\" +\n                \"<div>\" +\n                    `<div class='k-edit-label'><label>${encode(messages.exportAsDialog.labels.saveAsType)}:</label></div>` +\n                    \"<div class='k-edit-field'>\" +\n                    \"<select data-role='dropdownlist' class='k-file-format' \" +\n                        \"data-text-field='description' \" +\n                        \"data-value-field='extension' \" +\n                        \"data-bind='value: extension, source: fileFormats'></select>\" +\n                    \"</div>\" +\n                \"</div>\" +\n                `<div class='k-edit-label'><label>${encode(messages.exportAsDialog.labels.page)}:</label></div>` +\n                \"<div class='k-edit-field'>\" +\n                    `<input data-role='numerictextbox' data-format='n0' data-min='1' data-max='${encode(total)}' data-bind='value: page' />` +\n                \"</div>\" +\n                \"<div class='k-actions'>\" +\n                    `<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary' data-bind='click: apply'><span class='k-button-text'>${encode(messages.save)}</span></button>` +\n                    `<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base' data-bind='click: close'><span class='k-button-text'>${encode(messages.cancel)}</span></button>` +\n                \"</div>\"\n        },\n        _updateModel: function(options) {\n            if (options.pagesCount) {\n                this.viewModel.set(\"pagesCount\", options.pagesCount);\n            }\n            if (options.page) {\n                this.viewModel.set(\"page\", options.page);\n            }\n        },\n        _initializeDialog: function() {\n            var that = this;\n            var options = that.options;\n            var dialogMessages = options.messages.dialogs;\n            var dialog = $(\"<div class='k-pdf-viewer-window k-action-window k-popup-edit-form' />\")\n                    .append(kendo.template(options.template)({\n                        total: options.pagesCount,\n                        messages: dialogMessages\n                    }))\n                    .kendoWindow(options)\n                    .getKendoWindow();\n\n            that.viewModel = kendo.observable({\n                title: dialogMessages.exportAsDialog.title,\n                name: dialogMessages.exportAsDialog.defaultFileName,\n                extension: options.extension,\n                fileFormats: options.fileFormats,\n                pagesCount: options.pagesCount,\n                page: 1,\n                apply: that.apply.bind(this),\n                close: function() {\n                    dialog.close();\n                }\n            });\n\n            that._dialog = dialog;\n\n            kendo.bind(dialog.element, that.viewModel);\n            return dialog;\n        },\n        open: function() {\n            this._dialog.center().open();\n        },\n        apply: function() {\n            this._dialog.close();\n            this.options.apply({\n                fileName: this.viewModel.name + this.viewModel.extension,\n                extension: this.viewModel.extension,\n                page: this.viewModel.page\n            });\n        }\n    });\n\n    var SearchDialog = Class.extend({\n        init: function(options) {\n            var that = this;\n            that.options = extend({}, options, that.options);\n        },\n        options: {\n            resizable: false,\n            template: ({ messages }) => '<div class=\"k-search-panel k-pos-sticky k-top-center\">' +\n                          `<button aria-label='${encode(messages.dragHandle)}' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-search-dialog-draghandle'>${kendo.ui.icon({ icon: \"handle-drag\", iconClass: \"k-button-icon\" })}</button>` +\n                          \"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'>\" +\n                              `<input class='k-search-dialog-input k-input-inner' data-bind='value: boundValue, events: { keyup: onKeyup, input: onInput }' aria-label='${encode( messages.inputLabel)}' title='${encode(messages.inputLabel)}' />` +\n                              `<span class='k-input-suffix'><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-match-case-button k-match-case-button' data-bind='css: {k-selected: matchCase}, click: matchCaseClick' aria-label='${encode(messages.matchCase)}' title='${encode(messages.matchCase)}'>${kendo.ui.icon({ icon: \"convert-lowercase\", iconClass: \"k-button-icon\" })}</button></span>` +\n                          \"</span>\" +\n                          `<span class='k-search-matches'><span data-bind='text: matchIndex'></span> ${encode(messages.of)} <span data-bind='text: matches'></span></span>` +\n                          `<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: prev' aria-label='${encode(messages.previous)}' title='${encode(messages.previous)}'>${kendo.ui.icon({ icon: \"arrow-up\", iconClass: \"k-button-icon\" })}</button>` +\n                          `<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: next' aria-label='${encode(messages.next)}' title='${encode(messages.next)}'>${kendo.ui.icon({ icon: \"arrow-down\", iconClass: \"k-button-icon\" })}</button>` +\n                          `<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: close' aria-label='${encode(messages.close)}' title='${encode(messages.close)}'>${kendo.ui.icon({ icon: \"x\", iconClass: \"k-button-icon\" })}</button>` +\n                      \"</div>\"\n        },\n        open: function() {\n            var that = this;\n\n            if (!that.dialog) {\n                that._initializeDialog();\n            }\n\n            that.options.open();\n            that._showSearchDialog();\n        },\n        close: function() {\n            var that = this;\n            that.options.close();\n            that._hideSearchDialog();\n        },\n        _showSearchDialog: function() {\n            var that = this;\n\n            that.dialog.css(\"left\",`${(that.options.pageContainer.innerWidth() / 2) - (outerWidth(that.dialog, true) / 2)}px`);\n\n            that.dialog.kendoStop().kendoAnimate({\n                effects: { zoom: { direction: \"in\" }, fade: { direction: \"in\" } },\n                duration: 350,\n                complete: function(ev) {\n                    that.dialog.find(\".k-search-dialog-input\").trigger(\"focus\");\n                }\n            });\n        },\n        _hideSearchDialog: function() {\n            var that = this;\n\n            that.dialog.kendoStop().kendoAnimate({\n                effects: { zoom: { direction: \"out\", properties: { scale: 0.7 } }, fade: { direction: \"out\" } },\n                duration: 350,\n                hide: true\n            });\n        },\n        _initializeDialog: function() {\n            var that = this;\n            var template = kendo.template(that.options.template);\n            var dialogElm = $(template({\n                messages: that.options.messages\n            }));\n\n            that.options.pageContainer.prepend(dialogElm);\n            that.dialog = dialogElm;\n\n            that._draggable = new Draggable(dialogElm, {\n                filter: \".k-search-dialog-draghandle\",\n                axis: \"x\",\n                dragstart: function(e) {\n                    var wnd = that.dialog;\n                    var containment = that.options.pageContainer;\n\n                    wnd.startPosition = {\n                        left: e.x.client - kendo.getOffset(wnd, \"position\").left,\n                    };\n\n                    if (!containment) {\n                        return null;\n                    }\n\n                    containment._innerWidth = containment.innerWidth();\n\n                    if (parseInt(containment._innerWidth, 10) > containment[0].clientWidth) {\n                        containment._innerWidth -= kendo.support.scrollbar();\n                    }\n\n                    wnd.maxLeft = containment._innerWidth - outerWidth(wnd, true);\n                },\n                drag: function(e) {\n                    var wnd = that.dialog;\n                    var position = {};\n                    var left;\n\n                    left = e.x.client - wnd.startPosition.left;\n\n                    if (left && isNaN(left) && left.toString().indexOf(\"px\") < 0) {\n                        position.left = left;\n                    } else {\n                        position.left = Math.max(\n                            Math.min(parseInt(left, 10), parseInt(wnd.maxLeft, 10)),\n                            0\n                        );\n                    }\n\n                    wnd.css(position);\n                },\n            });\n\n            that._draggable.userEvents.stopPropagation = false;\n\n            that.searchModel = kendo.observable({\n                boundValue: \"\",\n                searchText: \"\",\n                matchCase: false,\n                matchIndex: 0,\n                matches: 0,\n                matchCaseClick: function() {\n                    this.set(\"matchCase\", !this.matchCase);\n                },\n                next: that.options.next,\n                prev: that.options.prev,\n                close: function() {\n                    this.set(\"boundValue\", \"\");\n                    that.close();\n                },\n                onKeyup: function(ev) {\n                    var key = ev.keyCode;\n                    var navigationFn = ev.shiftKey ? this.prev : this.next;\n\n                    if (key === keys.ENTER) {\n                        navigationFn();\n                        ev.preventDefault();\n                    } else if (key == keys.ESC) {\n                        this.close();\n                    }\n                },\n                onInput: function(ev) {\n                    this.set(\"searchText\", ev.target.value);\n                }\n            });\n\n            kendo.bind(dialogElm, that.searchModel);\n        }\n    });\n\n    extend(kendo.pdfviewer, {\n        dialogs: {\n            ErrorDialog: ErrorDialog,\n            ExportAsDialog: ExportAsDialog,\n            SearchDialog: SearchDialog\n        }\n    });\n})(window.kendo.jQuery);\n\n(function($, undefined$1) {\n    var kendo = window.kendo,\n        extend = $.extend,\n        parseJSON = JSON.parse,\n        progress = kendo.ui.progress,\n        scrollToSearchMatch = kendo.ui.PdfViewerCommon.scrollToSearchMatch,\n        Class = kendo.Class,\n        UploadHelper = kendo.pdfviewer.UploadHelper,\n        OPEN = \"open\",\n        ZOOMSTART = \"zoomStart\",\n        ZOOMEND = \"zoomEnd\";\n\n    var Command = Class.extend({\n        init: function(options) {\n            this.options = options;\n            this.viewer = options.viewer;\n            this.errorMessages = this.viewer.options.messages.errorMessages;\n        }\n    });\n\n    var OpenCommand = Command.extend({\n        init: function(options) {\n            Command.fn.init.call(this, options);\n            this._uploadHelper = new UploadHelper(this.viewer);\n        },\n        exec: function() {\n            this.viewer._upload = this.viewer._upload || this._uploadHelper._initUpload();\n            this.viewer._upload.element.click();\n        },\n    });\n\n    var PageChangeCommand = Command.extend({\n        exec: function() {\n            var targetPage = this.options.value,\n                viewer = this.viewer,\n                current, total;\n\n            if (isNaN(targetPage)) {\n                current = viewer._pageNum;\n                total = viewer.document.total;\n\n                switch (targetPage) {\n                    case \"first\": targetPage = 1;\n                        break;\n                    case \"prev\": targetPage = current > 1 ? current - 1 : 1;\n                        break;\n                    case \"next\": targetPage = current < total ? current + 1 : total;\n                        break;\n                    case \"last\": targetPage = total;\n                        break;\n                }\n            } else {\n                targetPage = Number(targetPage);\n            }\n\n            viewer.activatePage(targetPage);\n        }\n    });\n\n    var DownloadCommand = Command.extend({\n        exec: function() {\n            if (!this.viewer.document) {\n                this.viewer._triggerError({\n                    message: this.errorMessages.notFound\n                });\n                return;\n            }\n\n            var fileName = (this.viewer.document.info && this.viewer.document.info.title) ||\n                            this.viewer.options.messages.defaultFileName;\n\n            this.viewer.processor.downloadFile(fileName);\n        }\n    });\n\n    var ExportCommand = Command.extend({\n        init: function(options) {\n            options = $.extend(options, this.options);\n            Command.fn.init.call(this, options);\n        },\n        exec: function() {\n            var dialog = (this.viewer._saveDialog || this._initDialog());\n\n            dialog._updateModel({\n                pagesCount: (this.viewer.document && this.viewer.document.total) || 1,\n                page: this.viewer.options.page\n            });\n\n            dialog.open();\n        },\n        apply: function(viewModel) {\n            var extension = viewModel.extension;\n\n            if (extension === \".png\") {\n                this.viewer.exportImage(viewModel);\n            } else if (extension === \".svg\") {\n                this.viewer.exportSVG(viewModel);\n            }\n        },\n        _initDialog: function() {\n            this.viewer._saveDialog = new kendo.pdfviewer.dialogs.ExportAsDialog({\n                apply: this.apply.bind(this),\n                pagesCount: (this.viewer.document && this.viewer.document.total) || 1,\n                messages: this.viewer.options.messages\n            });\n            return this.viewer._saveDialog;\n        }\n    });\n\n    var EnableSelectionCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                viewer = that.viewer;\n\n                viewer._toggleSelection(true);\n        }\n    });\n\n    var EnablePanCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                viewer = that.viewer;\n\n                viewer._toggleSelection(false);\n        }\n    });\n\n    var OpenSearchCommand = Command.extend({\n        init: function(options) {\n            var that = this;\n\n            that.viewer = options.viewer;\n\n            if (!that.viewer.searchDialog) {\n                that.viewer.searchDialog = new kendo.pdfviewer.dialogs.SearchDialog({\n                    pageContainer: that.viewer.pageContainerWrapper,\n                    position: {\n                        top: that.viewer.pageContainer.offset().top,\n                        left: that.viewer.pageContainer.offset().left\n                    },\n                    messages: that.viewer.options.messages.dialogs.search,\n                    open: that._open.bind(that),\n                    next: that._next.bind(that),\n                    prev: that._prev.bind(that),\n                    close: that._close.bind(that)\n                });\n            }\n\n            Command.fn.init.call(that, options);\n        },\n        exec: function() {\n            var that = this;\n\n            that.viewer.searchDialog.open();\n        },\n        _open: function() {\n            var that = this;\n\n            that.changeHandler = that._change.bind(that);\n            that.zoomStartHandler = that._closeDialog.bind(that);\n            that.openFileHandler = that._closeDialog.bind(that);\n\n            if (!that.viewer._searchDOM) {\n                that.viewer._initSearchDOM();\n                that.viewer.searchDialog.searchModel.bind(\"change\", that.changeHandler);\n                that.viewer.bind(\"zoomStart\", that.zoomStartHandler);\n                that.viewer.bind(\"open\", that.openFileHandler);\n            }\n        },\n        _close: function() {\n            var that = this;\n            var searchEngine = that.viewer._searchDOM;\n\n            that.viewer.searchDialog.searchModel.unbind(\"change\", that.changeHandler);\n            that.viewer.unbind(\"zoomStart\", that.zoomStartHandler);\n            that.viewer.unbind(\"open\", that.openFileHandler);\n            searchEngine.destroy();\n            delete that.viewer._searchDOM;\n            that._updateSearchModel();\n            that.viewer.toolbar.element.find(\"[tabindex=0]\").trigger(\"focus\");\n        },\n        _change: function(ev) {\n            var that = this;\n            var searchEngine = that.viewer._searchDOM;\n            var field = ev.field;\n            var model = that.viewer.searchDialog.searchModel;\n            var value = model[field];\n\n            if (!searchEngine) {\n                return;\n            }\n\n            switch (field) {\n                case \"searchText\":\n                    searchEngine.search(value, model.matchCase);\n                    that._updateSearchModel();\n                    break;\n                case \"matchCase\":\n                    searchEngine.search(model.searchText, value);\n                    that._updateSearchModel();\n                    break;\n                default:\n                    break;\n            }\n        },\n        _next: function() {\n            var that = this;\n            var searchEngine = that.viewer._searchDOM;\n\n            if (searchEngine.matches && searchEngine.matches.length) {\n                searchEngine.nextMatch();\n                that._updateSearchModel();\n            }\n        },\n        _prev: function() {\n            var that = this;\n            var searchEngine = that.viewer._searchDOM;\n\n            if (searchEngine.matches && searchEngine.matches.length) {\n                searchEngine.previousMatch();\n                that._updateSearchModel();\n            }\n        },\n        _updateSearchModel: function() {\n            var that = this;\n            var searchEngine = that.viewer._searchDOM;\n            var model = that.viewer.searchDialog.searchModel;\n\n            if (searchEngine) {\n                model.set(\"matches\", searchEngine.matches.length);\n                model.set(\"matchIndex\", searchEngine.getMarkedIndex());\n                that._scrollToMark();\n            } else {\n                model.set(\"searchText\", \"\");\n                model.set(\"matches\", 0);\n                model.set(\"matchIndex\", 0);\n                model.set(\"matchCase\", false);\n            }\n        },\n        _scrollToMark: function() {\n            var that = this;\n            var searchEngine = that.viewer._searchDOM;\n            var marked = searchEngine.getFirstMarked();\n\n            if (!marked.length) {\n                return;\n            }\n\n            scrollToSearchMatch(marked[0], that.viewer.pdfScroller);\n        },\n        _closeDialog: function() {\n            var that = this;\n            that.viewer.searchDialog.close();\n        }\n    });\n\n    var ZoomCommand = Command.extend({\n        exec: function() {\n            var that = this,\n                options = that.options,\n                viewer = that.viewer,\n                scale = options.value || options.scale,\n                loadedPagesHeight = 0,\n                page = that.viewer._pageNum,\n                containerHeight = viewer.pageContainer[0].clientHeight,\n                updatedVisiblePagesCount = 1,\n                renderTasks = [];\n\n            if (viewer.processingLib === \"dpl\") {\n                return;\n            }\n\n            scale = that._calculateZoom();\n\n            var updateViewer = function() {\n                var scrollingStarted = viewer._scrollingStarted;\n\n                if (!scrollingStarted)\n                {\n                    viewer.activatePage(page);\n                    viewer._scrollingStarted = false;\n                }\n            };\n\n            if (!scale) {\n                return;\n            }\n\n            viewer.zoomScale = scale;\n            viewer._scrollingStarted = false;\n\n            viewer._setPageContainerScaleFactor(scale);\n\n            if (viewer.pages) {\n                viewer.pages.forEach(function(page) {\n                    var pageHeight;\n\n                    if (viewer._visiblePages.indexOf(page) !== -1 && page.loaded) {\n                        renderTasks.push(page.render(scale));\n\n                        pageHeight = page._page.getViewport({\n                            scale: scale\n                        }).height;\n                    }\n                    else {\n                        page.resize(scale);\n                        pageHeight = page.element.height();\n                    }\n\n                    loadedPagesHeight += pageHeight;\n\n                    if (loadedPagesHeight <= containerHeight) {\n                        updatedVisiblePagesCount++;\n                    }\n                });\n\n\n                if (viewer._visiblePagesCount != updatedVisiblePagesCount) {\n\n                    viewer._visiblePagesCount = updatedVisiblePagesCount;\n                    viewer._loadVisiblePages();\n                }\n            }\n\n            Promise.all(renderTasks).then(function() {\n                updateViewer();\n                that._triggerZoomEnd(scale);\n            }).catch(function() {\n                updateViewer();\n                that._triggerZoomEnd(scale);\n            });\n        },\n\n        _calculateZoom: function() {\n            var options = this.options,\n                viewer = this.viewer,\n                viewerOptions = viewer.options,\n                pageContainer = viewer.pageContainer,\n                visibleCanvas = viewer._visiblePages && viewer._visiblePages[0].canvas,\n                calculatedDpr = (viewer._visiblePages && viewer._visiblePages[0]._dpr) || 2,\n                scale = options.value || options.scale,\n                scaleValue = scale,\n                preventZoom;\n\n            viewer._allowResize = false;\n            viewer._autoFit = false;\n\n            if (options.zoomIn) {\n                scaleValue = scale = viewer.zoomScale + viewerOptions.zoomRate;\n            } else if (options.zoomOut) {\n                scaleValue = scale = viewer.zoomScale - viewerOptions.zoomRate;\n            } else if (scale === \"auto\") {\n                viewer._allowResize = true;\n                scaleValue = viewer._autoZoomScale;\n            } else if (scale === \"actual\") {\n                scaleValue = 1;\n            } else if (scale === \"fitToWidth\") {\n                viewer._allowResize = true;\n                viewer._autoFit = \"fitToWidth\";\n                scaleValue = (pageContainer.width() / ((visibleCanvas.width / calculatedDpr) / viewer.zoomScale));\n            } else if (scale === \"fitToPage\") {\n                viewer._allowResize = true;\n                viewer._autoFit = \"fitToPage\";\n                scaleValue = (pageContainer.height() / ((visibleCanvas.height / calculatedDpr) / viewer.zoomScale));\n            } else if (scale && scale.toString().match(/^[0-9]+%?$/)) {\n                scale = parseInt(scale.replace('%', ''), 10) / 100;\n                scaleValue = scale;\n            } else {\n                preventZoom = isNaN(scale);\n            }\n\n            if (!preventZoom) {\n                preventZoom = scale < viewerOptions.zoomMin || scale > viewerOptions.zoomMax;\n            }\n\n            if (preventZoom || viewer.trigger(ZOOMSTART, { scale: scale })) {\n                return;\n            }\n\n            if (options.updateComboBox && viewer.toolbar)\n            {\n                viewer._updateZoomComboBox(scale);\n            }\n\n            return scaleValue;\n        },\n\n        _triggerZoomEnd: function(scale) {\n            var that = this,\n                viewer = that.viewer;\n\n            viewer.trigger(ZOOMEND, { scale: scale });\n        }\n    });\n\n    var PrintCommand = Command.extend({\n        init: function(options) {\n            Command.fn.init.call(this, options);\n        },\n        exec: function() {\n            var that = this;\n\n             if (!that.viewer.document) {\n                that.viewer._triggerError({\n                    message: this.errorMessages.notFound\n                });\n                return;\n            }\n\n            progress(that.viewer.pageContainer, true);\n            that._renderPrintContainer();\n            that._loadAllPages().then(that.processAfterRender.bind(that));\n        },\n        _renderPrintContainer: function() {\n            this.printContainer = $(\"<div></div>\");\n        },\n        _loadAllPages: function() {\n            var that = this;\n            var pages = that.viewer.pages;\n            var loadPromises = [];\n            var renderPromises = [];\n            var promise = $.Deferred();\n            var defaultScale = 3;\n\n            that._originalScale = that.viewer.zoom();\n            that.viewer._setPageContainerScaleFactor(defaultScale);\n\n            function getRenderPromise(page) {\n                renderPromises.push(page._renderPromise);\n            }\n\n            for (var i = 0; i < pages.length; i++) {\n                loadPromises.push(pages[i].load(defaultScale, true).then(getRenderPromise));\n            }\n\n            Promise.all(loadPromises).then(function() {\n                promise.resolve(renderPromises);\n            });\n\n            return promise;\n        },\n        processAfterRender: function(renderPromises) {\n            var that = this;\n\n            Promise.all(renderPromises).then(function() {\n                that._renderPrintPages();\n                setTimeout(function() {\n                    that._printDocument();\n                    that.viewer.zoom(that._originalScale);\n                    progress(that.viewer.pageContainer, false);\n                    delete that._originalScale;\n                }, 0);\n            });\n        },\n        _renderPrintPages: function() {\n            var pages = this.viewer.pages;\n\n            for (var i = 0; i < pages.length; i++) {\n                this._renderPrintImage(pages[i]);\n            }\n         },\n        _renderPrintImage: function(page) {\n            var canvas = page.canvas;\n            var div = $(\"<div></div>\");\n\n            var img = \"<img src='\" + canvas.toDataURL() + \"' width='\" + page.width + \"px' height='\" + page.height + \"px' />\";\n\n            div.append(img);\n\n            this.printContainer.append(div);\n        },\n        _printDocument: function() {\n            var that = this;\n            var pages = that.viewer.pages;\n            var width = pages[0].width;\n            var height = pages[0].height;\n            var myWindow = window.open('','','innerWidth=' + width + ',innerHeight=' + height + 'location=no,titlebar=no,toolbar=no');\n            var browser = kendo.support.browser;\n\n            if (!myWindow) {\n                that.viewer._triggerError({\n                    message: that.errorMessages.popupBlocked\n                });\n                return;\n            }\n\n            myWindow.document.write(that.printContainer.html());\n            myWindow.document.close();\n            myWindow.focus();\n            myWindow.print();\n\n            if (!browser.chrome || browser.chromiumEdge) {\n                myWindow.close();\n            } else {\n                $(myWindow.document).find(\"body\").on(\"mousemove\", function() {\n                    myWindow.close();\n                });\n            }\n        }\n    });\n\n    extend(kendo.pdfviewer, {\n        OpenCommand: OpenCommand,\n        PageChangeCommand: PageChangeCommand,\n        DownloadCommand: DownloadCommand,\n        EnableSelectionCommand: EnableSelectionCommand,\n        EnablePanCommand: EnablePanCommand,\n        ExportCommand: ExportCommand,\n        PrintCommand: PrintCommand,\n        OpenSearchCommand: OpenSearchCommand,\n        ZoomCommand: ZoomCommand\n    });\n\n})(window.kendo.jQuery);\n\nvar __meta__ = {\n    id: \"pdfviewer\",\n    name: \"PDFViewer\",\n    category: \"web\",\n    description: \"PDFViewer to display pdfs in the browser\",\n    depends: [\"core\", \"window\", \"dialog\", \"toolbar\", \"draganddrop\", \"upload\", \"combobox\", \"drawing\", \"binder\", \"dropdownlist\", \"numerictextbox\", \"textbox\"]\n};\n\n(function($, undefined$1) {\n    var NS = \".kendoPDFViewer\",\n        kendo = window.kendo,\n        ui = kendo.ui,\n        Scroller = ui.PdfViewerCommon.Scroller,\n        getCurrentPage = ui.PdfViewerCommon.currentPage,\n        scrollToPage = ui.PdfViewerCommon.scrollToPage,\n        extend = $.extend,\n        drawing = kendo.drawing,\n        keys = $.extend({ PLUS: 187, MINUS: 189, ZERO: 48, NUMPAD_ZERO: 96 }, kendo.keys),\n        Page,\n        BlankPage = kendo.pdfviewer.BlankPage,\n        Widget = ui.Widget,\n        progress = kendo.ui.progress,\n        SCROLL = \"scroll\",\n        RENDER = \"render\",\n        OPEN = \"open\",\n        ERROR = \"error\",\n        KEYDOWN = \"keydown\" + NS,\n        MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n        UPDATE = \"update\",\n        ZOOM_SCALE = 1.25,\n        PAGE_CHANGE = \"pagechange\",\n        ZOOMSTART = \"zoomStart\",\n        ZOOMEND = \"zoomEnd\",\n        ZOOMCOMMAND = \"ZoomCommand\",\n        WHITECOLOR = \"#ffffff\",\n        TABINDEX = \"tabindex\",\n        CLICK = \"click\",\n        CHANGE = \"change\",\n        TOGGLE = \"toggle\",\n        PROCESSORS = {\n            pdfjs: \"pdfjs\",\n            dpl: \"dpl\"\n        },\n        styles = {\n            viewer: \"k-pdf-viewer k-widget\",\n            scroller: \"k-canvas k-pdf-viewer-canvas k-pos-relative k-overflow-auto\",\n            enableTextSelection: \"k-enable-text-select\",\n            enablePanning: \"k-enable-panning\",\n            highlightClass: \"k-search-highlight\",\n            charClass: \"k-text-char\"\n        },\n        PREDEFINED_ZOOM_VALUES = {\n            auto: \"auto\",\n            actual: \"actual\",\n            fitToWidth: \"fitToWidth\",\n            fitToPage: \"fitToPage\"\n        };\n\n    var PDFViewer = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            Widget.fn.init.call(that, element, kendo.deepExtend({}, this.options, options));\n\n            that._processMessages();\n\n            that._wrapper();\n\n            if (that.options.toolbar) {\n                that._renderToolbar();\n            }\n\n            that._initProcessor(options || {});\n            that._renderPageContainer();\n            that._loadDocument();\n\n            kendo.notify(that, kendo.ui);\n\n            if (that._showWatermarkOverlay) {\n                that._showWatermarkOverlay(that.wrapper[0]);\n            }\n        },\n\n        events: [\n            RENDER,\n            OPEN,\n            ERROR,\n            ZOOMSTART,\n            ZOOMEND\n        ],\n\n        options: {\n            name: \"PDFViewer\",\n            view: {\n                type: \"canvas\"\n            },\n            pdfjsProcessing: {\n                file: null\n            },\n            dplProcessing: {\n                read: {\n                    url: null,\n                    type: \"GET\",\n                    dataType: \"json\",\n                    pageField: \"pageNumber\"\n                },\n                upload: {\n                    url: null,\n                    saveField: \"file\"\n                },\n                download: {\n                    url: null\n                },\n                loadOnDemand: false\n            },\n            toolbar: {\n                items: []\n            },\n            width: 1000,\n            height: 1200,\n            page: 1,\n            defaultPageSize: {\n                width: 794,\n                height: 1123\n            },\n            scale: null,\n            zoomMin: 0.5,\n            zoomMax: 4,\n            zoomRate: 0.25,\n            messages: {\n                defaultFileName: \"Document\",\n                toolbar: {\n                    zoom: {\n                        zoomLevel: \"zoom level\",\n                        zoomOut: \"Zoom Out\",\n                        zoomIn: \"Zoom In\",\n                        actualWidth: \"Actual Width\",\n                        autoWidth: \"Automatic Width\",\n                        fitToWidth: \"Fit to Width\",\n                        fitToPage: \"Fit to Page\"\n                    },\n                    open: \"Open\",\n                    exportAs: \"Export\",\n                    download: \"Download\",\n                    pager: {\n                        first: \"Go to the first page\",\n                        previous: \"Go to the previous page\",\n                        next: \"Go to the next page\",\n                        last: \"Go to the last page\",\n                        of: \"of\",\n                        page: \"page\",\n                        pages: \"pages\"\n                    },\n                    print: \"Print\",\n                    toggleSelection: \"Enable Selection\",\n                    togglePan: \"Enable Panning\",\n                    search: \"Search\"\n                },\n                errorMessages: {\n                    notSupported: \"Only pdf files allowed.\",\n                    parseError: \"PDF file fails to process.\",\n                    notFound: \"File is not found.\",\n                    popupBlocked: \"Popup is blocked.\"\n                },\n                dialogs: {\n                    exportAsDialog: {\n                        title: \"Export...\",\n                        defaultFileName: \"Document\",\n                        pdf: \"Portable Document Format (.pdf)\",\n                        png: \"Portable Network Graphics (.png)\",\n                        svg: \"Scalable Vector Graphics (.svg)\",\n                        labels: {\n                            fileName: \"File name\",\n                            saveAsType: \"Save as\",\n                            page: \"Page\"\n                        }\n                    },\n                    okText: \"OK\",\n                    save: \"Save\",\n                    cancel: \"Cancel\",\n                    search: {\n                        inputLabel: \"Search Text\",\n                        matchCase: \"Match Case\",\n                        next: \"Next Match\",\n                        previous: \"Previous Match\",\n                        close: \"Close\",\n                        of: \"of\",\n                        dragHandle: \"Drag search\"\n                    }\n                }\n            }\n        },\n\n        defaultTools: {\n            pager: {\n                name: \"pager\",\n                command: \"PageChangeCommand\"\n            },\n            spacer: { type: \"spacer\" },\n            zoomInOut: {\n                type: \"buttonGroup\",\n                fillMode: \"flat\",\n                attributes: { \"class\": \"k-zoom-in-out-group\" },\n                buttons: [\n                    { type: \"button\", icon: \"zoom-out\", name: \"zoomOut\", command: \"ZoomCommand\", showText: \"overflow\", options: \"{ \\\"zoomOut\\\": true, \\\"updateComboBox\\\": true }\", fillMode: \"flat\" },\n                    { type: \"button\", icon: \"zoom-in\", name: \"zoomIn\", command: \"ZoomCommand\", showText: \"overflow\", options: \"{ \\\"zoomIn\\\": true, \\\"updateComboBox\\\": true }\", fillMode: \"flat\" },\n                ]\n            },\n            zoom: {\n                type: \"component\",\n                name: \"zoom\",\n                command: \"ZoomCommand\",\n                overflow: \"never\",\n                component: \"ComboBox\",\n                data: [50, 100, 150, 200, 300, 400],\n                componentOptions: {\n                    enable: false,\n                    dataTextField: \"text\",\n                    dataValueField: \"percent\",\n                    valuePrimitive: true,\n                    clearOnEscape: false,\n                    commandOn: \"change\"\n                }\n            },\n            toggleSelection: {\n                type: \"buttonGroup\",\n                fillMode: \"flat\",\n                attributes: { \"class\": \"k-toggle-selection-group\" },\n                buttons: [\n                    {\n                        togglable: true,\n                        command: \"EnableSelectionCommand\",\n                        icon: \"pointer\",\n                        showText: \"overflow\",\n                        name: \"toggleSelection\",\n                        group: \"toggle-pan\",\n                        fillMode: \"flat\"\n                    }, {\n                        togglable: true,\n                        command: \"EnablePanCommand\",\n                        icon: \"hand\",\n                        showText: \"overflow\",\n                        name: \"togglePan\",\n                        group: \"toggle-pan\",\n                        selected: true,\n                        fillMode: \"flat\"\n                    }\n                ]\n            },\n            spacer2: { type: \"spacer\" },\n            search: {\n                type: \"button\",\n                command: \"OpenSearchCommand\",\n                icon: \"search\",\n                name: \"search\",\n                showText: \"overflow\",\n                enable: false,\n                fillMode: \"flat\"\n            },\n            open: {\n                type: \"button\",\n                showText: \"overflow\",\n                name: \"open\",\n                icon: \"folder-open\",\n                command: \"OpenCommand\",\n                fillMode: \"flat\"\n            },\n            download: {\n                type: \"button\",\n                showText: \"overflow\",\n                name: \"download\",\n                icon: \"download\",\n                command: \"DownloadCommand\",\n                enable: false,\n                fillMode: \"flat\"\n            },\n            print: {\n                type: \"button\",\n                showText: \"overflow\",\n                name: \"print\",\n                icon: \"print\",\n                command: \"PrintCommand\",\n                enable: false,\n                fillMode: \"flat\"\n            }\n        },\n\n        exportAsTool: {\n            exportAs: { type: \"button\", showText: \"overflow\", name: \"exportAs\", icon: \"image-export\", command: \"ExportCommand\", fillMode: \"flat\" }\n        },\n\n        pagerTools: [\n            {\n                type: \"buttonGroup\",\n                fillMode: \"flat\",\n                buttons: [\n                    { type: \"button\", icon: \"caret-alt-to-left\", name: \"first\", showText: \"overflow\", options: \"{ \\\"value\\\": \\\"first\\\" }\", attributes: { class: \"k-first-link\" } },\n                    { type: \"button\", icon: \"caret-alt-left\", name: \"previous\", showText: \"overflow\", options: \"{ \\\"value\\\": \\\"prev\\\" }\", attributes: { class: \"k-prev-link\" }, rounded: \"none\" },\n                ]\n            },\n            {\n                type: \"component\",\n                component: \"TextBox\",\n                name: \"page\",\n                attributes: { class: \"k-viewer-pager-input\" },\n                element: \"<input id='page-input'/>\",\n                overflow: \"never\",\n                componentOptions: {\n                    commandOn: \"change\"\n                }\n            },\n            {\n                overflow: \"never\",\n                template: function(data) {\n                    return \"<label for='page-input'>\" + data.componentOptions.messages.of + \" <span id='total-page'></span> \" + data.componentOptions.messages.pages + \"</label>\";\n                },\n                componentOptions: {\n                    messages: {\n                        of: \"of\",\n                        pages: \"pages\"\n                    }\n                }\n            },\n            {\n                type: \"buttonGroup\",\n                fillMode: \"flat\",\n                buttons: [\n                    { type: \"button\", icon: \"caret-alt-right\", name: \"next\", showText: \"overflow\", options: \"{ \\\"value\\\": \\\"next\\\" }\", fillMode: \"flat\", attributes: { class: \"k-next-link\" }, rounded: \"none\" },\n                    { type: \"button\", icon: \"caret-alt-to-right\", name: \"last\", showText: \"overflow\", options: \"{ \\\"value\\\": \\\"last\\\" }\", fillMode: \"flat\", attributes: { class: \"k-last-link\" } }\n                ]\n            },\n        ],\n\n        _processMessages: function() {\n            var messages = this.options.messages.toolbar,\n                zoom = messages.zoom,\n                pager = messages.pager;\n\n            if ($.isPlainObject(zoom)) {\n                this.options.messages.toolbar = $.extend({}, this.options.messages.toolbar, zoom);\n                this.options.messages.toolbar.zoom = zoom.zoomLevel || this.options.messages.toolbar.zoom;\n            }\n\n            if ($.isPlainObject(pager)) {\n                this.options.messages.toolbar = $.extend({}, this.options.messages.toolbar, pager);\n            }\n        },\n\n        _wrapper: function() {\n            var that = this,\n                options = that.options;\n\n            that.wrapper = that.element;\n\n            that.wrapper\n                    .width(options.width)\n                    .height(options.height)\n                    .addClass(styles.viewer)\n                    .on(KEYDOWN, that._keydown.bind(that));\n\n            that._allowResize = that.options.scale === null;\n            that._autoZoomScale = ZOOM_SCALE;\n            that.zoomScale = that.options.scale || that._autoZoomScale;\n\n            that._resizeHandler = kendo.onResize(function() {\n                that.resize();\n            });\n\n            that._pageNum = that.options.page;\n        },\n\n        _keydown: function(e) {\n            var plusShortcuts = [keys.PLUS, keys.NUMPAD_PLUS],\n                minusShortcuts = [keys.MINUS, keys.NUMPAD_MINUS],\n                zeroShortcuts = [keys.ZERO, keys.NUMPAD_ZERO],\n                shouldExecute = false,\n                args = {\n                    command: ZOOMCOMMAND,\n                    options: { updateComboBox: true }\n                };\n\n            if (!e.ctrlKey || this._blankPage || this.processingLib === PROCESSORS.dpl) {\n                return;\n            }\n\n            if (plusShortcuts.includes(e.keyCode)) {\n                args.options.zoomIn = true;\n                shouldExecute = true;\n            } else if (minusShortcuts.includes(e.keyCode)) {\n                args.options.zoomOut = true;\n                shouldExecute = true;\n            } else if (zeroShortcuts.includes(e.keyCode)) {\n                args.options.value = ZOOM_SCALE;\n                shouldExecute = true;\n            }\n\n            if (shouldExecute) {\n                this.execute(args);\n                e.preventDefault();\n            }\n        },\n\n        _initProcessor: function(options) {\n            var that = this,\n                processingOptions;\n\n            processingOptions = options.dplProcessing ? that.options.dplProcessing : that.options.pdfjsProcessing;\n            that.processingLib = options.dplProcessing ? PROCESSORS.dpl : PROCESSORS.pdfjs;\n\n            that.processor = new kendo.pdfviewer[that.processingLib].processor(processingOptions, that);\n            Page = kendo.pdfviewer[that.processingLib].Page;\n        },\n\n        _renderToolbar: function() {\n            var that = this,\n                options = that.options,\n                toolbarOptions = extend({}, options.toolbar),\n                tools = toolbarOptions.items && toolbarOptions.items.length ? toolbarOptions.items : Object.keys(that.defaultTools);\n\n            tools = that._processTools(tools);\n\n            toolbarOptions = {\n                defaultTools: $.extend({}, that.defaultTools, that.exportAsTool),\n                parentMessages: options.messages.toolbar,\n                tools: tools,\n                resizable: true\n            };\n\n            var toolbarElement = $(\"<div />\");\n            toolbarElement.appendTo(that.element);\n            that.toolbar = new kendo.ui.ToolBar(toolbarElement, toolbarOptions);\n            that.options.toolbar = that.toolbar.options;\n\n            that.toolbar.bind(TOGGLE, that._toolbarClick.bind(that));\n            that.toolbar.bind(CLICK, that._toolbarClick.bind(that));\n            that.toolbar.bind(CHANGE, that._toolbarClick.bind(that));\n\n            that.bind({\n                update: that._updateToolbar.bind(that)\n            });\n\n            return that.toolbar;\n        },\n\n        _processTools: function(tools) {\n            var that = this,\n                messages = that.options.messages.toolbar;\n\n            tools = tools.flatMap(t => {\n                if (t === \"zoom\") {\n                    t = that.defaultTools.zoom;\n                } else if (t === \"pager\") {\n                    t = that.defaultTools.pager;\n                }\n\n                if (t.name === \"zoom\") {\n                    t = $.extend({}, that.defaultTools.zoom, t);\n\n                    var zoomLevels = [{\n                        percent: PREDEFINED_ZOOM_VALUES.auto,\n                        text: messages.autoWidth\n                    }, {\n                        percent: PREDEFINED_ZOOM_VALUES.actual,\n                        text: messages.actualWidth\n                    }, {\n                        percent: PREDEFINED_ZOOM_VALUES.fitToWidth,\n                        text: messages.fitToWidth\n                    }, {\n                        percent: PREDEFINED_ZOOM_VALUES.fitToPage,\n                        text: messages.fitToPage\n                    }];\n\n                    // eslint-disable-next-line\n                    var comboOptions = t.data.map(i => { return { percent: i, text: i + \"%\" } });\n                    var value = that.options.scale ? that.options.scale * 100 + \"%\" : \"auto\";\n\n                    zoomLevels = zoomLevels.concat(comboOptions);\n                    t.componentOptions.dataSource = zoomLevels;\n                    t.componentOptions.value = value;\n                } else if (t.name === \"pager\") {\n                    t = $.extend({}, that.defaultTools.pager, t);\n\n                    var pagerTools = that.pagerTools;\n\n                    that.pager = true;\n\n                    t = pagerTools.map(p => {\n                        var compMessages;\n\n                        if (p.componentOptions && p.componentOptions.messages) {\n                            compMessages = p.componentOptions.messages;\n                            Object.keys(messages).forEach(key => {\n                                p.componentOptions.messages[key] = messages.pager[key];\n                            });\n                        }\n\n                        if (p.buttons) {\n                            p.buttons = p.buttons.map((b) => {\n                                if (b.icon && b.icon.indexOf(\"caret-alt\") > -1 && kendo.support.isRtl(that.element)) {\n                                    var direction = b.icon.indexOf(\"left\") > -1 ? \"left\" : \"right\";\n                                    var rtlDirection = b.icon.indexOf(\"left\") > -1 ? \"right\" : \"left\";\n                                    b.icon = b.icon.replace(direction, rtlDirection);\n                                }\n                                b.command = t.command;\n                                return b;\n                            });\n                        } else {\n                            p.command = t.command;\n                        }\n\n                        return p;\n                    });\n                }\n\n                return t;\n            });\n\n            return tools;\n        },\n\n        _updateToolbar: function(e) {\n            var pageOptions = {\n                    page: e.page || 1,\n                    total: e.total || 1\n                },\n                toolbar = this.toolbar,\n                toolbarEl = toolbar.element,\n                zoomCombo = toolbarEl.find(\"[data-command=ZoomCommand][data-role=combobox]\").data(\"kendoComboBox\"),\n                toFocus = toolbarEl.find(\".k-focus\");\n\n            if (toFocus.length === 0) {\n                toFocus = toolbarEl.find(\"[tabindex=0]\").first();\n\n                if (toFocus.length === 0) {\n                    toFocus = toolbar._getAllItems().first();\n                }\n            }\n\n            if (zoomCombo) {\n                zoomCombo.enable(!e.isBlank);\n                if (e.action === \"zoom\") {\n                    this._updateZoomComboBox(e.zoom);\n                }\n            }\n\n            if ((e.action === \"pagechange\" || e.isBlank) && this.pager) {\n                this._updatePager(pageOptions);\n            }\n\n            this._updateOnBlank(e.isBlank);\n\n            toolbar._resetTabIndex(toFocus);\n        },\n\n        _updateOnBlank: function(isBlank) {\n            var toolbar = this.toolbar,\n                toolbarEl = toolbar.element;\n\n            toolbar.enable(toolbarEl.find(\".k-toggle-selection-group\"), !isBlank);\n            toolbar.enable(toolbarEl.find(\".k-zoom-in-out-group\"), !isBlank);\n\n            toolbar.enable(toolbarEl.find(\"[data-command='OpenSearchCommand']\"), !isBlank);\n            toolbar.enable(toolbarEl.find(\"[data-command='DownloadCommand']\"), !isBlank);\n            toolbar.enable(toolbarEl.find(\"[data-command='PrintCommand']\"), !isBlank);\n        },\n\n        _updatePager: function(options) {\n            var toolbarEl = this.toolbar.element,\n                textBox = toolbarEl.find(\"#page-input\").data(\"kendoTextBox\"),\n                totalPagesSpan = toolbarEl.find(\"#total-page\");\n\n            if (textBox && options.page) {\n                textBox.value(options.page);\n            }\n\n            if (totalPagesSpan.length && options.total) {\n                totalPagesSpan.text(options.total);\n            }\n\n            this._togglePagerDisabledClass(options);\n        },\n\n        _togglePagerDisabledClass: function(options) {\n            var toolbar = this.toolbar,\n                toolbarEl = toolbar.element,\n                total = !options.total,\n                prevFirst = toolbarEl.find(\".k-prev-link\").closest(\".k-button-group\"),\n                nextLast = toolbarEl.find(\".k-next-link\").closest(\".k-button-group\"),\n                textBox = toolbarEl.find(\"#page-input\").data(\"kendoTextBox\");\n\n            if (prevFirst.length) {\n                toolbar.enable(prevFirst, total || options.page !== 1);\n            }\n            if (nextLast.length) {\n                toolbar.enable(nextLast, total || options.page !== options.total);\n            }\n\n            if (textBox) {\n                textBox.enable(options.total > 1);\n            }\n        },\n\n        _updateZoomComboBox: function(value) {\n            var isPredefined = value === PREDEFINED_ZOOM_VALUES.auto ||\n                value === PREDEFINED_ZOOM_VALUES.actual ||\n                value === PREDEFINED_ZOOM_VALUES.fitToPage ||\n                value === PREDEFINED_ZOOM_VALUES.fitToWidth,\n                zoomCombo = this.toolbar.element.find(\"[data-command=ZoomCommand][data-role=combobox]\").data(\"kendoComboBox\");\n\n            if (!isPredefined) {\n                value = Math.round(value * 100) + '%';\n            }\n\n            if (zoomCombo) {\n                zoomCombo.value(value);\n            }\n        },\n\n        _toolbarClick: function(ev) {\n            var command = $(ev.target).data(\"command\"),\n                options = $(ev.target).data(\"options\");\n\n            options = extend({}, { value: $(ev.target).val() }, options);\n\n            if (!command) {\n                return;\n            }\n\n            this.execute({\n                command: command,\n                options: options\n            });\n        },\n\n        _initErrorDialog: function(options) {\n            var that = this;\n\n            if (!that._errorDialog) {\n                options = extend(options, {\n                    messages: that.options.messages\n                });\n                var dialogInstance = new kendo.pdfviewer.dialogs.ErrorDialog(options);\n                that._errorDialog = dialogInstance._dialog;\n            }\n            return that._errorDialog;\n        },\n\n        _renderPageContainer: function() {\n            var that = this;\n\n            if (!that.pageContainer) {\n                that.pageContainerWrapper = $(\"<div />\");\n                that.pageContainerWrapper.addClass(styles.scroller);\n\n                that.pageContainer = $(`<div class=\"k-pdf-viewer-pages\" style=\"--scale-factor: ${that.zoomScale}\" />`);\n                that.pageContainer.attr(TABINDEX, 0);\n\n                that.pageContainerWrapper.append(that.pageContainer);\n                that.wrapper.append(that.pageContainerWrapper);\n            }\n        },\n\n        _setPageContainerScaleFactor(scale) {\n            var that = this;\n\n            if (that.pageContainer) {\n                that.pageContainer[0].style.setProperty(\"--scale-factor\", scale);\n            }\n        },\n\n        _triggerError: function(options) {\n            var dialog = this._initErrorDialog();\n            extend(options, {\n                dialog: dialog\n            });\n            if (this.pageContainer) {\n                progress(this.pageContainer, false);\n            }\n\n            if (this.trigger(ERROR, options))\n            {\n                return;\n            }\n\n            dialog.open().content(options.message);\n        },\n\n        _renderPages: function() {\n            var that = this,\n                document = that.document,\n                pagesData;\n\n            that.pages = [];\n\n            if (!document || !document.total) {\n                that._renderBlankPage();\n                return;\n            }\n\n            pagesData = document.pages;\n\n            for (var i = 1; i <= document.total; i++) {\n                var viewerPage,\n                    pageData = {\n                        processor: that.processor,\n                        number: i\n                    };\n\n                if (pagesData && pagesData.length) {\n                    pageData = extend(pageData, pagesData[i - 1]);\n                }\n\n                viewerPage = new Page(pageData, that);\n                that.pages.push(viewerPage);\n                that.pageContainer.append(viewerPage.element);\n            }\n\n            that._attachContainerEvents();\n            that._getVisiblePagesCount();\n        },\n\n        _renderBlankPage: function() {\n            this._blankPage = new BlankPage(this.options.defaultPageSize, this);\n\n            this.pageContainer.append(this._blankPage.element);\n\n            this._blankPage._initUpload();\n            this.trigger(UPDATE, { isBlank: true });\n        },\n\n        _resize: function() {\n            var that = this,\n                containerWidth,\n                ratio;\n\n            if (!that._allowResize) {\n                return;\n            }\n\n            if (!that.pages || !that.pages.length) {\n                if (that._blankPage) {\n                    ratio = containerWidth / that._blankPage.element.width();\n                    that._blankPage.resize(ratio);\n                }\n                return;\n            }\n\n            if (that.toolbar) {\n                that.toolbar.resize(true);\n            }\n\n            if (that._resizeHandler) {\n                clearTimeout(that._resizeHandler);\n            }\n            that._resizeHandler = setTimeout(that._resizePages.bind(that), 100);\n        },\n\n        _resizePages: function() {\n            var that = this,\n                containerWidth = that.pageContainer[0].clientWidth,\n                ratio = 0;\n\n            that.pages.forEach(function(page) {\n                var currentRatio = containerWidth / page.element.width();\n\n                if (currentRatio > ratio) {\n                    ratio = currentRatio;\n                }\n            });\n\n            if (that._autoFit) {\n                that.zoom(that._autoFit, true);\n                return;\n            }\n\n            ratio = Math.min(Math.max(ratio, that.options.zoomMin), ZOOM_SCALE);\n            if (ratio != that.zoomScale) {\n                that.zoom(ratio, true);\n                that.zoomScale = ratio;\n                that._allowResize = true;\n            }\n        },\n\n        _attachContainerEvents: function() {\n            var that = this;\n\n            that._wheel = kendo.throttle(\n                that._wheel.bind(that),\n                300\n            );\n\n            if (that.processingLib !== PROCESSORS.dpl) {\n                that.pageContainer.on(MOUSEWHEEL, function(e) {\n                    if (!e.ctrlKey) {\n                        return;\n                    }\n\n                    if (document.activeElement !== that.pageContainer[0]) {\n                        that.pageContainer.trigger(\"focus\");\n                    }\n\n                    that._wheel(e);\n                    e.preventDefault();\n                });\n            }\n\n            that.pageContainer.addClass(styles.enablePanning);\n            that.pageContainerWrapper.bind(SCROLL, that._scroll.bind(that));\n            that.pageContainerWrapper.on(CLICK + NS, \".k-annotation-layer a[href]\", that._linkHandler.bind(that));\n        },\n\n        _linkHandler: function(e) {\n            var that = this,\n                link = $(e.target).attr(\"href\");\n\n            if (link && link.indexOf(\"#\") === 0) {\n                that.processor.navigateToDestination && that.processor.navigateToDestination(link);\n                e.preventDefault();\n            }\n        },\n\n        _scroll: function(e) {\n            var that = this,\n                containerHeight = that.pageContainerWrapper.height(),\n                total = that.pages.length,\n                pageNum = that._pageNum,\n                pageIndex = pageNum - 1,\n                pageToLoadNum = pageNum,\n                pageToLoad,\n                currentPage;\n\n                if (that._preventScroll || !total) {\n                    that._preventScroll = false;\n                    return;\n                }\n\n                that._scrollingStarted = true;\n                const nextPageIndex = getCurrentPage(that.element[0]);\n                currentPage = that.pages[pageIndex];\n                pageToLoadNum = pageNum + nextPageIndex - pageIndex;\n\n                if (pageNum !== pageToLoadNum && pageToLoadNum >= 1 && pageToLoadNum <= total) {\n                    pageToLoad = that.pages[pageToLoadNum - 1].element;\n\n                    if (pageToLoad.offset().top > containerHeight) {\n                        return;\n                    }\n\n                    that._pageNum = pageToLoadNum;\n                    that._loadVisiblePages();\n\n                    that.trigger(UPDATE, { action: PAGE_CHANGE, page: pageToLoadNum, total: total });\n                }\n        },\n\n        _wheel: function(e) {\n            var originalEvent = e.originalEvent,\n                delta = originalEvent.wheelDelta ? -originalEvent.wheelDelta : originalEvent.detail,\n                zoomIn = delta < 0;\n\n            this.execute({\n                command: ZOOMCOMMAND,\n                options: {\n                    zoomIn: zoomIn,\n                    zoomOut: !zoomIn,\n                    updateComboBox: true\n                }\n            });\n\n            e.preventDefault();\n        },\n\n        zoom: function(scale, preventComboBoxChange) {\n            var that = this;\n            if (!scale) {\n                return that.zoomScale;\n            }\n\n            return that.execute({\n                command: ZOOMCOMMAND,\n                options: {\n                    value: scale,\n                    updateComboBox: !preventComboBoxChange\n                }\n            });\n        },\n\n        execute: function(options) {\n            var commandOptions = extend({ viewer: this }, options.options);\n            var command = new kendo.pdfviewer[options.command](commandOptions);\n            return command.exec();\n        },\n\n        _loadDocument: function() {\n            var that = this;\n            var page = that.options.page;\n\n            progress(that.pageContainer, true);\n            that.processor.fetchDocument().done(function(document) {\n                that._clearPages();\n                that.document = document;\n\n                that._renderPages();\n                that.resize(true);\n\n                if (document) {\n                    page = page >= 1 && page <= document.total ? page : 1;\n                    that.activatePage(page);\n                }\n\n                if (that.pdfScroller) {\n                    that.pdfScroller.destroy();\n                }\n\n                that.pdfScroller = new Scroller(that.pageContainer[0].parentNode, {\n                    filter: '.k-page',\n                    events: { }\n                });\n\n                that.pdfScroller.enablePanEventsTracking();\n\n                progress(that.pageContainer, false);\n            });\n        },\n\n        loadPage: function(number) {\n            var page = this.pages && this.pages[number - 1];\n\n            if (page) {\n                return page.load(this.zoomScale);\n            }\n        },\n\n        activatePage: function(number) {\n            var page = this.pages && this.pages[number - 1],\n                pageContainer = this.pageContainerWrapper;\n\n            if (!page) {\n                return;\n            }\n\n\n            this._pageNum = number;\n            this._loadVisiblePages();\n\n            this._preventScroll = true;\n            scrollToPage(pageContainer[0], number - 1);\n            this.trigger(UPDATE, { action: PAGE_CHANGE, page: number, total: this.pages.length });\n        },\n\n        _getVisiblePagesCount: function() {\n            var that = this,\n                loadedPagesHeight = 0,\n                updatedVisiblePagesCount = 0,\n                containerHeight = that.pageContainer[0].clientHeight,\n                index = 0;\n\n            while (loadedPagesHeight <= containerHeight && index < that.pages.length)\n            {\n                loadedPagesHeight += that.pages[index].element.height();\n                updatedVisiblePagesCount++;\n                index++;\n            }\n\n            that._visiblePagesCount = updatedVisiblePagesCount;\n        },\n\n        _loadVisiblePages: function() {\n            var pagesCount = this.pages && this.pages.length,\n                minVisiblePageNum = Math.max(this._pageNum - this._visiblePagesCount, 1),\n                maxVisiblePageNum = Math.min(this._pageNum + this._visiblePagesCount, pagesCount);\n\n            this._visiblePages = this.pages.slice(minVisiblePageNum - 1, maxVisiblePageNum);\n\n            for (var i = minVisiblePageNum; i <= maxVisiblePageNum; i++)\n            {\n                this.loadPage(i);\n            }\n        },\n\n        _loadAllPages: function() {\n            var pagesCount = this.pages && this.pages.length;\n            var promises = [];\n\n            for (var i = 0; i <= pagesCount; i++)\n            {\n                promises.push(this.loadPage(i));\n            }\n\n            return promises;\n        },\n\n        fromFile: function(file) {\n            this.zoomScale = this.options.scale || ZOOM_SCALE;\n            this.zoom(this.zoomScale, true);\n            this.trigger(UPDATE, { action: \"zoom\", zoom: this.options.scale || \"auto\" });\n\n            this.processor._updateDocument(file);\n            this._loadDocument();\n        },\n\n        exportImage: function(options) {\n            var that = this;\n            var pageNumber = options.page;\n            var page = that.pages[pageNumber - 1] || that._blankPage;\n            var rootGroup = new drawing.Group();\n\n            page.load();\n\n            var background = kendo.drawing.Path.fromRect(new kendo.geometry.Rect([0, 0], [page.width, page.height]), {\n                fill: {\n                    color: WHITECOLOR\n                },\n                stroke: null\n            });\n\n            progress(that.pageContainer, true);\n            rootGroup.append(background, page.group);\n\n            drawing.exportImage(rootGroup).done(function(data) {\n                progress(that.pageContainer, false);\n                kendo.saveAs({\n                    dataURI: data,\n                    fileName: options.fileName,\n                    proxyURL: options.proxyURL || \"\",\n                    forceProxy: options.forceProxy,\n                    proxyTarget: options.proxyTarget\n                });\n            });\n        },\n\n        exportSVG: function(options) {\n            var that = this;\n            var pageNumber = options.page;\n            var page = that.pages[pageNumber - 1] || that._blankPage;\n\n            progress(that.pageContainer, true);\n\n            page.load();\n\n            drawing.exportSVG(page.group).done(function(data) {\n                progress(that.pageContainer, false);\n                kendo.saveAs({\n                    dataURI: data,\n                    fileName: options.fileName,\n                    proxyURL: options.proxyURL || \"\",\n                    forceProxy: options.forceProxy,\n                    proxyTarget: options.proxyTarget\n                });\n            });\n        },\n\n        setOptions: function(options)\n        {\n            var that = this;\n\n            if (options.pdfjsProcessing || options.dplProcessing) {\n                that._initProcessor(options || {});\n            }\n\n            options = $.extend(that.options, options);\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.page) {\n                that._pageNum = options.page;\n                that.activatePage(options.page);\n            }\n\n            if (options.width) {\n                that.element.width(options.width);\n            }\n\n            if (options.height) {\n                that.element.height(options.height);\n            }\n        },\n\n        destroy: function()\n        {\n            if (this._resizeHandler)\n            {\n                kendo.unbindResize(this._resizeHandler);\n            }\n\n            //destroy nested components\n            if (this._errorDialog) {\n                this._errorDialog.destroy();\n            }\n\n            if (this._saveDialog) {\n                this._saveDialog.destroy();\n            }\n\n            if (this._upload) {\n                this._upload.destroy();\n            }\n\n            if (this.toolbar) {\n                this.toolbar.unbind();\n                this.toolbar.destroy();\n                this.toolbar = null;\n            }\n\n            if (this.pages && this.pages.length) {\n                this.pages.forEach(function(page) {\n                    page.destroy();\n                });\n                this.pages = [];\n            }\n\n            if (this.pdfScroller) {\n                this.pdfScroller.destroy();\n            }\n            this.pageContainer.off(NS);\n            this.pageContainerWrapper.off(NS);\n\n            Widget.fn.destroy.call(this);\n        },\n\n        _clearPages: function() {\n            this.pages = [];\n            this.document = null;\n            this._pageNum = 1;\n\n            this.pageContainer.off(NS);\n            this.pageContainer.empty();\n\n            if (this.pdfScroller)\n            {\n                this.pdfScroller.destroy();\n            }\n        },\n\n        _toggleSelection: function(enable) {\n            var that = this;\n\n            if (enable === undefined$1) {\n                enable = true;\n            }\n\n            if (that.pdfScroller) {\n                enable ? that.pdfScroller.disablePanEventsTracking() : that.pdfScroller.enablePanEventsTracking();\n            }\n\n            that.pageContainer.toggleClass(styles.enableTextSelection, enable);\n            that.pageContainer.toggleClass(styles.enablePanning, !enable);\n        },\n\n\n        _initSearchDOM: function() {\n            var that = this;\n            var promise = new Promise(function(resolve) {\n                Promise.all(that._loadAllPages()).then(function() {\n                    that._searchDOM = new kendo.pdfviewer.SearchDOM({\n                        target: that._getTextLayers(),\n                        highlightClass: styles.highlightClass,\n                        charClass: styles.charClass\n                    });\n\n                    resolve();\n                });\n            });\n\n            return promise;\n        },\n\n        _getTextLayers: function() {\n            return this.pages.map(function(page) {\n                return page.textLayer;\n            });\n        }\n    });\n\n    ui.plugin(PDFViewer);\n})(window.kendo.jQuery);\nvar kendo$1 = kendo;\n\nexport { kendo$1 as default };\n"]}